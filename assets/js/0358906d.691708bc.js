"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[829],{3905:function(e,n,t){t.d(n,{Zo:function(){return p},kt:function(){return u}});var a=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var d=a.createContext({}),s=function(e){var n=a.useContext(d),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},p=function(e){var n=s(e.components);return a.createElement(d.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},v=a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,l=e.originalType,d=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),v=s(t),u=i,m=v["".concat(d,".").concat(u)]||v[u]||c[u]||l;return t?a.createElement(m,r(r({ref:n},p),{},{components:t})):a.createElement(m,r({ref:n},p))}));function u(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var l=t.length,r=new Array(l);r[0]=v;var o={};for(var d in n)hasOwnProperty.call(n,d)&&(o[d]=n[d]);o.originalType=e,o.mdxType="string"==typeof e?e:i,r[1]=o;for(var s=2;s<l;s++)r[s]=t[s];return a.createElement.apply(null,r)}return a.createElement.apply(null,t)}v.displayName="MDXCreateElement"},6863:function(e,n,t){t.r(n),t.d(n,{assets:function(){return p},contentTitle:function(){return d},default:function(){return u},frontMatter:function(){return o},metadata:function(){return s},toc:function(){return c}});var a=t(3117),i=t(102),l=(t(7294),t(3905)),r=["components"],o={title:"Add event handling",description:"Events allow an embedded dossier to communicate with the container page. You can listen for these events and provide event handler functions to respond to them. You use helper methods in the Embedding SDK to add event handling. For example, you can add code to capture selection events from one dossier and apply them as a filter to a second dossier."},d=void 0,s={unversionedId:"add-functionality/add-event",id:"add-functionality/add-event",title:"Add event handling",description:"Events allow an embedded dossier to communicate with the container page. You can listen for these events and provide event handler functions to respond to them. You use helper methods in the Embedding SDK to add event handling. For example, you can add code to capture selection events from one dossier and apply them as a filter to a second dossier.",source:"@site/docs/add-functionality/add-event.md",sourceDirName:"add-functionality",slug:"/add-functionality/add-event",permalink:"/embedding-sdk-docs/add-functionality/add-event",draft:!1,editUrl:"https://github.com/MicroStrategy/embedding-sdk-docs/tree/public/docs/add-functionality/add-event.md",tags:[],version:"current",lastUpdatedBy:"magua-io",lastUpdatedAt:1670599756,formattedLastUpdatedAt:"Dec 9, 2022",frontMatter:{title:"Add event handling",description:"Events allow an embedded dossier to communicate with the container page. You can listen for these events and provide event handler functions to respond to them. You use helper methods in the Embedding SDK to add event handling. For example, you can add code to capture selection events from one dossier and apply them as a filter to a second dossier."},sidebar:"tutorialSidebar",previous:{title:"Add navigation",permalink:"/embedding-sdk-docs/add-functionality/add-nav"},next:{title:"Retrieve and apply filters",permalink:"/embedding-sdk-docs/add-functionality/filters"}},p={},c=[{value:"Events",id:"events",level:2},{value:"onGraphicsSelected",id:"ongraphicsselected",level:3},{value:"Event enumeration",id:"event-enumeration",level:4},{value:"Description",id:"description",level:4},{value:"Content",id:"content",level:4},{value:"Code example",id:"code-example",level:4},{value:"Content example",id:"content-example",level:4},{value:"onPageSwitched",id:"onpageswitched",level:3},{value:"Event enumeration",id:"event-enumeration-1",level:4},{value:"Description",id:"description-1",level:4},{value:"Content",id:"content-1",level:4},{value:"Code example",id:"code-example-1",level:4},{value:"Content example",id:"content-example-1",level:4},{value:"onFilterUpdated",id:"onfilterupdated",level:3},{value:"Event enumeration",id:"event-enumeration-2",level:4},{value:"Description",id:"description-2",level:4},{value:"Content",id:"content-2",level:4},{value:"Code example",id:"code-example-2",level:4},{value:"Content example",id:"content-example-2",level:4},{value:"onError",id:"onerror",level:3},{value:"Event enumeration",id:"event-enumeration-3",level:4},{value:"Description",id:"description-3",level:4},{value:"Content",id:"content-3",level:4},{value:"Code example",id:"code-example-3",level:4},{value:"Content example",id:"content-example-3",level:4},{value:"onSessionError",id:"onsessionerror",level:3},{value:"Event enumeration",id:"event-enumeration-4",level:4},{value:"Description",id:"description-4",level:4},{value:"Content",id:"content-4",level:4},{value:"Code example",id:"code-example-4",level:4},{value:"Content example",id:"content-example-4",level:4},{value:"onPageLoaded",id:"onpageloaded",level:3},{value:"Event enumeration",id:"event-enumeration-5",level:4},{value:"Description",id:"description-5",level:4},{value:"Content",id:"content-5",level:4},{value:"Code example",id:"code-example-5",level:4},{value:"onLayoutChanged",id:"onlayoutchanged",level:3},{value:"Event enumeration",id:"event-enumeration-6",level:4},{value:"Description",id:"description-6",level:4},{value:"Content",id:"content-6",level:4},{value:"Code example",id:"code-example-6",level:4},{value:"Content example",id:"content-example-5",level:4},{value:"onPromptAnswered",id:"onpromptanswered",level:3},{value:"Event enumeration",id:"event-enumeration-7",level:4},{value:"Description",id:"description-7",level:4},{value:"Content",id:"content-7",level:4},{value:"Code example",id:"code-example-7",level:4},{value:"Content example",id:"content-example-6",level:4},{value:"onPromptLoaded",id:"onpromptloaded",level:3},{value:"Event enumeration",id:"event-enumeration-8",level:4},{value:"Description",id:"description-8",level:4},{value:"Content",id:"content-8",level:4},{value:"Code example",id:"code-example-8",level:4},{value:"onVizSelectionChanged",id:"onvizselectionchanged",level:3},{value:"Event enumeration",id:"event-enumeration-9",level:4},{value:"Description",id:"description-9",level:4},{value:"Content",id:"content-9",level:4},{value:"Code example",id:"code-example-9",level:4},{value:"Content example",id:"content-example-7",level:4},{value:"onVisualizationElementsChanged",id:"onvisualizationelementschanged",level:3},{value:"Event enumeration",id:"event-enumeration-10",level:4},{value:"Description",id:"description-10",level:4},{value:"Content",id:"content-10",level:4},{value:"Code example",id:"code-example-10",level:4},{value:"Content example",id:"content-example-8",level:4},{value:"onVisualizationResized",id:"onvisualizationresized",level:3},{value:"Event enumeration",id:"event-enumeration-11",level:4},{value:"Description",id:"description-11",level:4},{value:"Content",id:"content-11",level:4},{value:"Code example",id:"code-example-11",level:4},{value:"Content example",id:"content-example-9",level:4},{value:"onDossierInstanceIDChange",id:"ondossierinstanceidchange",level:3},{value:"Event enumeration",id:"event-enumeration-12",level:4},{value:"Description",id:"description-12",level:4},{value:"Content",id:"content-12",level:4},{value:"Code example",id:"code-example-12",level:4},{value:"Content example",id:"content-example-10",level:4},{value:"onDossierAuthoringSaved",id:"ondossierauthoringsaved",level:3},{value:"Event enumeration",id:"event-enumeration-13",level:4},{value:"Description",id:"description-13",level:4},{value:"Content",id:"content-13",level:4},{value:"Code example",id:"code-example-13",level:4},{value:"onDossierAuthoringClosed",id:"ondossierauthoringclosed",level:3},{value:"Event enumeration",id:"event-enumeration-14",level:4},{value:"Description",id:"description-14",level:4},{value:"Content",id:"content-14",level:4},{value:"Code example",id:"code-example-14",level:4},{value:"onPageRenderFinished",id:"onpagerenderfinished",level:3},{value:"Event enumeration",id:"event-enumeration-15",level:4},{value:"Description",id:"description-15",level:4},{value:"Content",id:"content-15",level:4},{value:"Code example",id:"code-example-15",level:4},{value:"Event handlers",id:"event-handlers",level:2},{value:"registerEventHandler(evtName, handler)",id:"registereventhandlerevtname-handler",level:3},{value:"Class",id:"class",level:4},{value:"Description",id:"description-16",level:4},{value:"removeEventHandler(evtName, handler)",id:"removeeventhandlerevtname-handler",level:3},{value:"Class",id:"class-1",level:4},{value:"Description",id:"description-17",level:4},{value:"Wrapper functions",id:"wrapper-functions",level:2},{value:"registerGraphicsSelectEventHandlerToViz(vizKey, handler)",id:"registergraphicsselecteventhandlertovizvizkey-handler",level:3},{value:"Class",id:"class-2",level:4},{value:"Description",id:"description-18",level:4},{value:"registerFilterUpdateHandler(handler)",id:"registerfilterupdatehandlerhandler",level:3},{value:"Class",id:"class-3",level:4},{value:"Description",id:"description-19",level:4},{value:"registerPageSwitchHandler(handler)",id:"registerpageswitchhandlerhandler",level:3},{value:"Class",id:"class-4",level:4},{value:"Description",id:"description-20",level:4},{value:"registerDossierInstanceIDChangeHandler(handler)",id:"registerdossierinstanceidchangehandlerhandler",level:3},{value:"Class",id:"class-5",level:4},{value:"Description",id:"description-21",level:4}],v={toc:c};function u(e){var n=e.components,t=(0,i.Z)(e,r);return(0,l.kt)("wrapper",(0,a.Z)({},v,t,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"Events allow an embedded dossier to communicate with the container page. You can listen to these events and provide event handler functions to respond to them. You use helper methods in the Embedding SDK to add event handlers. For example, you can add code to capture selection events from one dossier and apply them as a filter to a second dossier."),(0,l.kt)("admonition",{type:"tip"},(0,l.kt)("p",{parentName:"admonition"},"To help you get started, we have provided an ",(0,l.kt)("a",{parentName:"p",href:"https://microstrategy.github.io/playground/?example=g5"},"example in the Embedding SDK Playground")," that embeds a dossier and adds event handling, as well as a description of ",(0,l.kt)("a",{parentName:"p",href:"#events"},"events"),", ",(0,l.kt)("a",{parentName:"p",href:"#event-handlers"},"event handlers"),", and ",(0,l.kt)("a",{parentName:"p",href:"#wrapper-functions"},"wrapper functions")," you can use to handle additional events.")),(0,l.kt)("p",null,"Once you have used the ",(0,l.kt)("inlineCode",{parentName:"p"},"dossier.create(props)")," method to embed a dossier into a third-party web page, you can use the methods described below to communicate between the dossier and the container page. You can register ",(0,l.kt)("a",{parentName:"p",href:"#event-handlers"},"event handlers")," for the ",(0,l.kt)("a",{parentName:"p",href:"#events"},"events")," that are automatically raised when a visualization is selected or when a page or filter is changed. ",(0,l.kt)("a",{parentName:"p",href:"#wrapper-functions"},"Wrapper functions")," are provided to make it easy to register event handlers for specific events."),(0,l.kt)("h2",{id:"events"},"Events"),(0,l.kt)("p",null,"Each supported event is described in the table below. You get the EventType from ",(0,l.kt)("inlineCode",{parentName:"p"},"microstrategy.dossier.EventType"),"."),(0,l.kt)("h3",{id:"ongraphicsselected"},"onGraphicsSelected"),(0,l.kt)("h4",{id:"event-enumeration"},"Event enumeration"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"EventType.ON_GRAPHICS_SELECTED")),(0,l.kt)("h4",{id:"description"},"Description"),(0,l.kt)("p",null,'Raised when a graphic in the visualization is selected. This event is raised only if the visualization supports "use as filter".'),(0,l.kt)("h4",{id:"content"},"Content"),(0,l.kt)("p",null,"Attribute element list for each selected graphic."),(0,l.kt)("h4",{id:"code-example"},"Code example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"embedDossier.registerEventHandler(EventType.ON_GRAPHICS_SELECTED, graphicsSelectedHandler);\n")),(0,l.kt)("h4",{id:"content-example"},"Content example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "vizKey": "K52",\n  "graphics": [\n    //an array containing all the selected graphics info, each item is one graphic\n    [\n      // an array containing the attribute combination for one graphic\n      //n: attribute name, v: attribute value\n      { "n": "Category", "v": "Electronics" },\n      { "n": "Quarter", "v": "2009 Q4" }\n    ],\n    [\n      { "n": "Category", "v": "Electronics" },\n      { "n": "Quarter", "v": "2009 Q3" }\n    ]\n  ]\n}\n')),(0,l.kt)("h3",{id:"onpageswitched"},"onPageSwitched"),(0,l.kt)("h4",{id:"event-enumeration-1"},"Event enumeration"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"EventType.ON_PAGE_SWITCHED")),(0,l.kt)("h4",{id:"description-1"},"Description"),(0,l.kt)("p",null,"Raised when the page is switched."),(0,l.kt)("h4",{id:"content-1"},"Content"),(0,l.kt)("p",null,"Object containing the key of the page you switched to."),(0,l.kt)("h4",{id:"code-example-1"},"Code example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"embedDossier.registerEventHandler(EventType.ON_PAGE_SWITCHED, pageSwitchedHandler);\n")),(0,l.kt)("h4",{id:"content-example-1"},"Content example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "key": "K52"\n}\n')),(0,l.kt)("h3",{id:"onfilterupdated"},"onFilterUpdated"),(0,l.kt)("h4",{id:"event-enumeration-2"},"Event enumeration"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"EventType.ON_FILTER_UPDATED")),(0,l.kt)("h4",{id:"description-2"},"Description"),(0,l.kt)("p",null,"Raised when a filter is changed."),(0,l.kt)("h4",{id:"content-2"},"Content"),(0,l.kt)("p",null,"Object containing changed filter information."),(0,l.kt)("h4",{id:"code-example-2"},"Code example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"embedDossier.registerEventHandler(EventType.ON_FILTER_UPDATED, filterUpdatedHandler);\n")),(0,l.kt)("h4",{id:"content-example-2"},"Content example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "filterInfo": [\n    {\n      "filterKey": "W132",\n      "filterName": "Year",\n      "isExclude": false,\n      "filterType": "attributeSelector",\n      "filterDetail": {\n        "items": [\n          {\n            "name": "2014",\n            "value": "h2014;8D679D5111D3E4981000E787EC6DE8A4",\n            "selected": false\n          },\n          {\n            "name": "2015",\n            "value": "h2015;8D679D5111D3E4981000E787EC6DE8A4",\n            "selected": true\n          },\n          {\n            "name": "2016",\n            "value": "h2016;8D679D5111D3E4981000E787EC6DE8A4",\n            "selected": false\n          }\n        ],\n        "supportMultiple": false\n      }\n    }\n  ]\n}\n')),(0,l.kt)("h3",{id:"onerror"},"onError"),(0,l.kt)("h4",{id:"event-enumeration-3"},"Event enumeration"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"EventType.ON_ERROR")),(0,l.kt)("h4",{id:"description-3"},"Description"),(0,l.kt)("p",null,"Raised when an error occurs."),(0,l.kt)("h4",{id:"content-3"},"Content"),(0,l.kt)("p",null,"Error object."),(0,l.kt)("h4",{id:"code-example-3"},"Code example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"embedDossier.registerEventHandler(EventType.ON_ERROR, errorHandler);\n")),(0,l.kt)("h4",{id:"content-example-3"},"Content example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "title": "Existing Live Session",\n  "message": "Invalid access token",\n  "desc": "You\'re logged in from another tab or window. Please refresh your session to see the latest updates.",\n  "errorCode": "ERR003_2",\n  "iServerErrorCode": "",\n  "statusCode": 401,\n  "ticketId": "e71565e0c8434133a4a4a53a56d92efb"\n}\n')),(0,l.kt)("h3",{id:"onsessionerror"},"onSessionError"),(0,l.kt)("h4",{id:"event-enumeration-4"},"Event enumeration"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"EventType.ON_SESSION_ERROR")),(0,l.kt)("h4",{id:"description-4"},"Description"),(0,l.kt)("p",null,"Raised when a session error occurs."),(0,l.kt)("h4",{id:"content-4"},"Content"),(0,l.kt)("p",null,"Error object."),(0,l.kt)("h4",{id:"code-example-4"},"Code example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"embedDossier.registerEventHandler(EventType.ON_SESSION_ERROR, sessionErrorHandler);\n")),(0,l.kt)("h4",{id:"content-example-4"},"Content example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "title": "Existing Live Session",\n  "message": "Invalid access token",\n  "desc": "You\'re logged in from another tab or window. Please refresh your session to see the latest updates.",\n  "errorCode": "ERR003_2",\n  "iServerErrorCode": "",\n  "statusCode": 401,\n  "ticketId": "e71565e0c8434133a4a4a53a56d92efb"\n}\n')),(0,l.kt)("h3",{id:"onpageloaded"},"onPageLoaded"),(0,l.kt)("h4",{id:"event-enumeration-5"},"Event enumeration"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"EventType.ON_PAGE_LOADED")),(0,l.kt)("h4",{id:"description-5"},"Description"),(0,l.kt)("p",null,"Raised when the page is loaded for the first time."),(0,l.kt)("h4",{id:"content-5"},"Content"),(0,l.kt)("p",null,"None"),(0,l.kt)("h4",{id:"code-example-5"},"Code example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"embedDossier.registerEventHandler(EventType.ON_PAGE_LOADED, onPageLoadedHandler);\n")),(0,l.kt)("h3",{id:"onlayoutchanged"},"onLayoutChanged"),(0,l.kt)("h4",{id:"event-enumeration-6"},"Event enumeration"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"EventType.ON_LAYOUT_CHANGED")),(0,l.kt)("h4",{id:"description-6"},"Description"),(0,l.kt)("p",null,"Raised when the layout changes."),(0,l.kt)("h4",{id:"content-6"},"Content"),(0,l.kt)("p",null,"Object containing layout changed information."),(0,l.kt)("h4",{id:"code-example-6"},"Code example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"embedDossier.registerEventHandler(EventType.ON_LAYOUT_CHANGED, layoutChangedHandler);\n")),(0,l.kt)("h4",{id:"content-example-5"},"Content example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "layoutMode": 2,\n  "dimension": {\n    "height": 600,\n    "width": 716,\n    "offsetTop": 0\n  }\n}\n')),(0,l.kt)("h3",{id:"onpromptanswered"},"onPromptAnswered"),(0,l.kt)("h4",{id:"event-enumeration-7"},"Event enumeration"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"EventType.ON_PROMPT_ANSWERED")),(0,l.kt)("h4",{id:"description-7"},"Description"),(0,l.kt)("p",null,"Raised when a prompt is answered."),(0,l.kt)("h4",{id:"content-7"},"Content"),(0,l.kt)("p",null,"Object containing prompt answers information."),(0,l.kt)("h4",{id:"code-example-7"},"Code example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"embedDossier.registerEventHandler(EventType.ON_PROMPT_ANSWERED, promptAnsweredHandler);\n")),(0,l.kt)("h4",{id:"content-example-6"},"Content example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "messageName": "Sales Dossier (w/ Attribute Element Prompt)",\n  "answers": [\n    {\n      "key": "3ECF2592C947B909B01624BCF690D6EA@0@10",\n      "values": ["8D679D4F11D3E4981000E787EC6DE8A4:14~1048576~Books - Miscellaneous"],\n      "useDefault": false\n    }\n  ]\n}\n')),(0,l.kt)("h3",{id:"onpromptloaded"},"onPromptLoaded"),(0,l.kt)("h4",{id:"event-enumeration-8"},"Event enumeration"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"EventType.ON_PROMPT_LOADED")),(0,l.kt)("h4",{id:"description-8"},"Description"),(0,l.kt)("p",null,"Raised when a prompt is loaded."),(0,l.kt)("h4",{id:"content-8"},"Content"),(0,l.kt)("p",null,"None"),(0,l.kt)("h4",{id:"code-example-8"},"Code example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"embedDossier.registerEventHandler(EventType.ON_PROMPT_LOADED, promptLoadedHandler);\n")),(0,l.kt)("h3",{id:"onvizselectionchanged"},"onVizSelectionChanged"),(0,l.kt)("h4",{id:"event-enumeration-9"},"Event enumeration"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"EventType.ON_VIZ_SELECTION_CHANGED")),(0,l.kt)("h4",{id:"description-9"},"Description"),(0,l.kt)("p",null,"Raised when a visualization selection is changed. Need visualization selection to be enabled."),(0,l.kt)("h4",{id:"content-9"},"Content"),(0,l.kt)("p",null,"Object containing visualization selection information."),(0,l.kt)("h4",{id:"code-example-9"},"Code example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"embedDossier.registerEventHandler(EventType.ON_VIZ_SELECTION_CHANGED, vizSelectionChangedHandler);\n")),(0,l.kt)("h4",{id:"content-example-7"},"Content example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "K36": {\n    "K52": true,\n    "visualizationLocation": {\n      "K52": {\n        "pageKey": "K53"\n      }\n    }\n  }\n}\n')),(0,l.kt)("h3",{id:"onvisualizationelementschanged"},"onVisualizationElementsChanged"),(0,l.kt)("h4",{id:"event-enumeration-10"},"Event enumeration"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"EventType.ON_VIZ_ELEMENT_CHANGED")),(0,l.kt)("h4",{id:"description-10"},"Description"),(0,l.kt)("p",null,"Raised when a visualization element is changed."),(0,l.kt)("h4",{id:"content-10"},"Content"),(0,l.kt)("p",null,"Array of objects containing visualization element changed information."),(0,l.kt)("h4",{id:"code-example-10"},"Code example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"embedDossier.registerEventHandler(EventType.ON_VIZ_ELEMENT_CHANGED, vizElementChangedHandler);\n")),(0,l.kt)("h4",{id:"content-example-8"},"Content example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'[\n  {\n    "visualizationKey": "K52",\n    "attributeElements": [\n      {\n        "attribute": {\n          "id": "70BACB0C3844364E12D005B61DC8C718",\n          "name": "Product"\n        },\n        "elements": [\n          {\n            "id": "h20129;70BACB0C3844364E12D005B61DC8C718",\n            "name": "Sebixtex"\n          },\n          {\n            "id": "h20114;70BACB0C3844364E12D005B61DC8C718",\n            "name": "Ecin"\n          }\n        ]\n      }\n    ]\n  }\n]\n')),(0,l.kt)("h3",{id:"onvisualizationresized"},"onVisualizationResized"),(0,l.kt)("h4",{id:"event-enumeration-11"},"Event enumeration"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"EventType.ON_VISUALIZATION_RESIZED")),(0,l.kt)("h4",{id:"description-11"},"Description"),(0,l.kt)("p",null,"Raised when a visualization changes size."),(0,l.kt)("h4",{id:"content-11"},"Content"),(0,l.kt)("p",null,"Object containing the visualization that changed size information."),(0,l.kt)("h4",{id:"code-example-11"},"Code example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"embedDossier.registerEventHandler(EventType.ON_VISUALIZATION_RESIZED, vizResizedChangedHandler);\n")),(0,l.kt)("h4",{id:"content-example-9"},"Content example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "visualizationKey": "W367",\n  "size": "normal"\n}\n')),(0,l.kt)("h3",{id:"ondossierinstanceidchange"},"onDossierInstanceIDChange"),(0,l.kt)("h4",{id:"event-enumeration-12"},"Event enumeration"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"EventType.ON_DOSSIER_INSTANCE_ID_CHANGE")),(0,l.kt)("h4",{id:"description-12"},"Description"),(0,l.kt)("p",null,"Raised when the embedded dossier instance id changes."),(0,l.kt)("h4",{id:"content-12"},"Content"),(0,l.kt)("p",null,"String of the new instance id."),(0,l.kt)("h4",{id:"code-example-12"},"Code example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"embedDossier.registerEventHandler(EventType.ON_DOSSIER_INSTANCE_ID_CHANGE, dossierChangedHandler);\n")),(0,l.kt)("h4",{id:"content-example-10"},"Content example"),(0,l.kt)("p",null,'"003EB6548141F191CC73308269BB2635"'),(0,l.kt)("h3",{id:"ondossierauthoringsaved"},"onDossierAuthoringSaved"),(0,l.kt)("h4",{id:"event-enumeration-13"},"Event enumeration"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"EventType.ON_DOSSIER_AUTHORING_SAVED")),(0,l.kt)("h4",{id:"description-13"},"Description"),(0,l.kt)("p",null,"Raised when a dossier is saved after authoring or editing."),(0,l.kt)("h4",{id:"content-13"},"Content"),(0,l.kt)("p",null,"None"),(0,l.kt)("h4",{id:"code-example-13"},"Code example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"embedDossier.registerEventHandler(EventType.ON_DOSSIER_AUTHORING_SAVED, dossierAuthoringSavedHandler);\n")),(0,l.kt)("h3",{id:"ondossierauthoringclosed"},"onDossierAuthoringClosed"),(0,l.kt)("h4",{id:"event-enumeration-14"},"Event enumeration"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"EventType.ON_DOSSIER_AUTHORING_CLOSED")),(0,l.kt)("h4",{id:"description-14"},"Description"),(0,l.kt)("p",null,"Raised when the authoring or edit mode of dossier is closed."),(0,l.kt)("h4",{id:"content-14"},"Content"),(0,l.kt)("p",null,"None"),(0,l.kt)("h4",{id:"code-example-14"},"Code example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"embedDossier.registerEventHandler(EventType.ON_DOSSIER_AUTHORING_CLOSED, dossierAuthoringClosedHandler);\n")),(0,l.kt)("h3",{id:"onpagerenderfinished"},"onPageRenderFinished"),(0,l.kt)("h4",{id:"event-enumeration-15"},"Event enumeration"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"EventType.ON_PAGE_RENDER_FINISHED")),(0,l.kt)("h4",{id:"description-15"},"Description"),(0,l.kt)("p",null,"Raised when the page finishes rendering."),(0,l.kt)("h4",{id:"content-15"},"Content"),(0,l.kt)("p",null,"None"),(0,l.kt)("h4",{id:"code-example-15"},"Code example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"embedDossier.registerEventHandler(EventType.ON_PAGE_RENDER_FINISHED, pageRenderFinishedHandler);\n")),(0,l.kt)("h2",{id:"event-handlers"},"Event handlers"),(0,l.kt)("p",null,"There are two methods for registering and removing an event handler."),(0,l.kt)("h3",{id:"registereventhandlerevtname-handler"},"registerEventHandler(evtName, handler)"),(0,l.kt)("h4",{id:"class"},"Class"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Dossier")),(0,l.kt)("h4",{id:"description-16"},"Description"),(0,l.kt)("p",null,"Register the event handler ",(0,l.kt)("inlineCode",{parentName:"p"},"handler")," on ",(0,l.kt)("inlineCode",{parentName:"p"},"evtName"),"."),(0,l.kt)("h3",{id:"removeeventhandlerevtname-handler"},"removeEventHandler(evtName, handler)"),(0,l.kt)("h4",{id:"class-1"},"Class"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Dossier")),(0,l.kt)("h4",{id:"description-17"},"Description"),(0,l.kt)("p",null,"Remove the event handler ",(0,l.kt)("inlineCode",{parentName:"p"},"handler")," on ",(0,l.kt)("inlineCode",{parentName:"p"},"evtName"),"."),(0,l.kt)("h2",{id:"wrapper-functions"},"Wrapper functions"),(0,l.kt)("p",null,"The following wrapper functions make it easy to register event handlers for specific events."),(0,l.kt)("h3",{id:"registergraphicsselecteventhandlertovizvizkey-handler"},"registerGraphicsSelectEventHandlerToViz(vizKey, handler)"),(0,l.kt)("h4",{id:"class-2"},"Class"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Dossier")),(0,l.kt)("h4",{id:"description-18"},"Description"),(0,l.kt)("p",null,"Wrapper function for ",(0,l.kt)("inlineCode",{parentName:"p"},"registerEventHandler")," for ",(0,l.kt)("inlineCode",{parentName:"p"},"EventType.ON_GRAPHICS_SELECTED")," on certain visualizations (whose node key is equal to ",(0,l.kt)("inlineCode",{parentName:"p"},"vizKey"),")."),(0,l.kt)("h3",{id:"registerfilterupdatehandlerhandler"},"registerFilterUpdateHandler(handler)"),(0,l.kt)("h4",{id:"class-3"},"Class"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Dossier")),(0,l.kt)("h4",{id:"description-19"},"Description"),(0,l.kt)("p",null,"Wrapper function for ",(0,l.kt)("inlineCode",{parentName:"p"},"registerEventHandler")," for ",(0,l.kt)("inlineCode",{parentName:"p"},"EventType.ON_FILTER_UPDATED"),"."),(0,l.kt)("p",null,"Equal to ",(0,l.kt)("inlineCode",{parentName:"p"},"registerEventHandler(EventType.ON_FILTER_UPDATED, filterUpdatedHandler)"),"."),(0,l.kt)("h3",{id:"registerpageswitchhandlerhandler"},"registerPageSwitchHandler(handler)"),(0,l.kt)("h4",{id:"class-4"},"Class"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Dossier")),(0,l.kt)("h4",{id:"description-20"},"Description"),(0,l.kt)("p",null,"Wrapper function for ",(0,l.kt)("inlineCode",{parentName:"p"},"registerEventHandler")," for ",(0,l.kt)("inlineCode",{parentName:"p"},"EventType.ON_PAGE_SWITCHED"),"."),(0,l.kt)("p",null,"Equal to ",(0,l.kt)("inlineCode",{parentName:"p"},"registerEventHandler(EventType.ON_PAGE_SWITCHED, pageSwitchedHandler)"),"."),(0,l.kt)("p",null,"Because the Map visualization can have multiple map layers, the selected graphics can come from different map layers. As a result, the event raised for ",(0,l.kt)("inlineCode",{parentName:"p"},"EventType.ON_GRAPHICS_SELECTED")," for the Map visualization is different from the event raised for other visualizations. See the following example."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  //primary key for the map visualization\n  "vizKey": "W99",\n  "graphics": [\n    //each object represent the selected graphics info for one layer\n    {\n      //layer key\n      "key": "W99",\n      //layer name\n      "name": "Layer 1",\n      "graphics": [\n        [\n          { "n": "Category", "v": "Electronics" },\n          { "n": "Quarter", "v": "2009 Q4" }\n        ],\n        [\n          { "n": "Category", "v": "Electronics" },\n          { "n": "Quarter", "v": "2009 Q3" }\n        ]\n      ]\n    },\n    {\n      "key": "W100",\n      "name": "Layer 2",\n      "graphics": [\n        [\n          { "n": "Category", "v": "Books" },\n          { "n": "Year", "v": "2009" }\n        ],\n        [\n          { "n": "Category", "v": "Movies" },\n          { "n": "Year", "v": "2008" }\n        ]\n      ]\n    }\n  ]\n}\n')),(0,l.kt)("h3",{id:"registerdossierinstanceidchangehandlerhandler"},"registerDossierInstanceIDChangeHandler(handler)"),(0,l.kt)("h4",{id:"class-5"},"Class"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Dossier")),(0,l.kt)("h4",{id:"description-21"},"Description"),(0,l.kt)("p",null,"Wrapper function for ",(0,l.kt)("inlineCode",{parentName:"p"},"registerEventHandler")," for ",(0,l.kt)("inlineCode",{parentName:"p"},"EventType.ON_DOSSIER_INSTANCE_ID_CHANGE"),"."),(0,l.kt)("p",null,"Equal to ",(0,l.kt)("inlineCode",{parentName:"p"},"registerEventHandler(EventType.ON_DOSSIER_INSTANCE_ID_CHANGE, dossierInstanceIdChangeHandler)"),"."))}u.isMDXComponent=!0}}]);