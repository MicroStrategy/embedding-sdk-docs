"use strict";(self.webpackChunkembedding_sdk_docs=self.webpackChunkembedding_sdk_docs||[]).push([[6676],{3905:function(e,n,t){t.d(n,{Zo:function(){return u},kt:function(){return p}});var i=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,i,a=function(e,n){if(null==e)return{};var t,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)t=r[i],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)t=r[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var d=i.createContext({}),l=function(e){var n=i.useContext(d),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},u=function(e){var n=l(e.components);return i.createElement(d.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return i.createElement(i.Fragment,{},n)}},c=i.forwardRef((function(e,n){var t=e.components,a=e.mdxType,r=e.originalType,d=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),c=l(t),p=a,g=c["".concat(d,".").concat(p)]||c[p]||m[p]||r;return t?i.createElement(g,o(o({ref:n},u),{},{components:t})):i.createElement(g,o({ref:n},u))}));function p(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=t.length,o=new Array(r);o[0]=c;var s={};for(var d in n)hasOwnProperty.call(n,d)&&(s[d]=n[d]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var l=2;l<r;l++)o[l]=t[l];return i.createElement.apply(null,o)}return i.createElement.apply(null,t)}c.displayName="MDXCreateElement"},1887:function(e,n,t){t.r(n),t.d(n,{assets:function(){return m},contentTitle:function(){return l},default:function(){return f},frontMatter:function(){return d},metadata:function(){return u},toc:function(){return c}});var i,a=t(3117),r=t(102),o=(t(7294),t(3905)),s=["components"],d={title:"Getting dossier info via APIs",description:"You can get dossier information, such as definition and visualization data, with Native Embedding SDK."},l=void 0,u={unversionedId:"native-embedding-architecture/dossier-info-api",id:"native-embedding-architecture/dossier-info-api",title:"Getting dossier info via APIs",description:"You can get dossier information, such as definition and visualization data, with Native Embedding SDK.",source:"@site/docs/native-embedding-architecture/dossier-info-api.md",sourceDirName:"native-embedding-architecture",slug:"/native-embedding-architecture/dossier-info-api",permalink:"/embedding-sdk-docs/native-embedding-architecture/dossier-info-api",draft:!1,editUrl:"https://github.com/MicroStrategy/embedding-sdk-docs/tree/public/docs/native-embedding-architecture/dossier-info-api.md",tags:[],version:"current",lastUpdatedBy:"Darren Holmblad",lastUpdatedAt:1702664682,formattedLastUpdatedAt:"Dec 15, 2023",frontMatter:{title:"Getting dossier info via APIs",description:"You can get dossier information, such as definition and visualization data, with Native Embedding SDK."},sidebar:"tutorialSidebar",previous:{title:"Visualization manipulation on graphics",permalink:"/embedding-sdk-docs/native-embedding-architecture/vis-manipulation"},next:{title:"Retrieve and apply filters",permalink:"/embedding-sdk-docs/native-embedding-architecture/apply-filter"}},m={},c=[{value:"Get dossier definition",id:"get-dossier-definition",level:2},{value:"<code>MstrDossier.getDossierDefinition</code> examples",id:"mstrdossiergetdossierdefinition-examples",level:3},{value:"Get visualization data",id:"get-visualization-data",level:2},{value:"<code>MstrDossier.getVisualizationData</code> examples",id:"mstrdossiergetvisualizationdata-examples",level:3}],p=(i="Available",function(e){return console.warn("Component "+i+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.kt)("div",e)}),g={toc:c};function f(e){var n=e.components,t=(0,r.Z)(e,s);return(0,o.kt)("wrapper",(0,a.Z)({},g,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)(p,{since:"2021 Update 9 (May 2023)",mdxType:"Available"}),(0,o.kt)("p",null,"Filters can be applied both during the execution of an embedded dossier and after it has been rendered. After using ",(0,o.kt)("a",{parentName:"p",href:"/embedding-sdk-docs/native-embedding-architecture/embed-multiple-viz"},"Native Embedding SDK")," to load the dossier in a client's webpage, you can use the Native Embedding SDK to get the definition or data from the dossier."),(0,o.kt)("p",null,"Let's say you already have ",(0,o.kt)("inlineCode",{parentName:"p"},"MstrEnvironment")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"MstrDossier")," objects:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'try {\n  const mstrEnvironment = await microstrategy.embeddingComponent.environments.create({\n    serverUrl: "https://demo.microstrategy.com/MicroStrategyLibrary",\n    getAuthToken: () => {\n      // Logic similar to the existing Native Embedding SDK, but only standard auth login is allowed\n    },\n  });\n  const mstrDossier = await mstrEnvironment.loadDossier({\n    projectId: "B19DEDCC11D4E0EFC000EB9495D0F44F",\n    objectId: "D9AB379D11EC92C1D9DC0080EFD415BB",\n  });\n  // Your custom logic\n} catch (error) {\n  // Your own error handling code\n}\n')),(0,o.kt)("h2",{id:"get-dossier-definition"},"Get dossier definition"),(0,o.kt)("p",null,"You can use the ",(0,o.kt)("inlineCode",{parentName:"p"},"MstrDossier.getDossierDefinition()")," function in the Native Embedding SDK to retrieve the definition of the dossier."),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"th"},"getDossierDefinition()")),(0,o.kt)("th",{parentName:"tr",align:null}))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Class"),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"MstrDossier"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Return Type"),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"Promise<DossierDefinition>"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Description"),(0,o.kt)("td",{parentName:"tr",align:null},"Get the definition of the dossier.")))),(0,o.kt)("h3",{id:"mstrdossiergetdossierdefinition-examples"},(0,o.kt)("inlineCode",{parentName:"h3"},"MstrDossier.getDossierDefinition")," examples"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"try {\n  const dossierDefinition = await mstrDossier.getDossierDefinition();\n  // Your own code\n} catch (error) {\n  // Your own error handling code\n}\n")),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Example of the dossier definition in the resolved value:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "829F892C7C418AA0242AE08F0F6B89DE",\n  "name": "zdeng test dossier",\n  "currentChapter": "K36",\n  "chapters": [\n    {\n      "key": "K36",\n      "name": "Chapter 1",\n      "pages": [\n        {\n          "key": "K53",\n          "name": "Page 1",\n          "visualizations": [\n            {\n              "key": "K52",\n              "name": "Visualization 1",\n              "visualizationType": "grid"\n            }\n          ]\n        }\n      ],\n      "filters": []\n    }\n  ],\n  "datasets": [\n    {\n      "name": "New Dataset 1",\n      "id": "84C31F8AD04B29C9A56616A7EF9669A4",\n      "availableObjects": [\n        {\n          "id": "8D679D5111D3E4981000E787EC6DE8A4",\n          "name": "Year",\n          "type": "attribute",\n          "forms": [\n            {\n              "id": "45C11FA478E745FEA08D781CEA190FE5",\n              "name": "ID",\n              "dataType": "integer",\n              "baseFormCategory": "ID",\n              "baseFormType": "number"\n            }\n          ]\n        },\n        {\n          "id": "7FD5B69611D5AC76C000D98A4CC5F24F",\n          "name": "Cost",\n          "type": "metric"\n        }\n      ]\n    }\n  ]\n}\n'))),(0,o.kt)("h2",{id:"get-visualization-data"},"Get visualization data"),(0,o.kt)("p",null,"You can use the ",(0,o.kt)("inlineCode",{parentName:"p"},"MstrDossier.getVisualizationData()")," function in the Native Embedding SDK to retrieve the data of a single visualization."),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"th"},"getVisualizationData()")),(0,o.kt)("th",{parentName:"tr",align:null}))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Class"),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"MstrDossier"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Return Type"),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"Promise<VisualizationData>"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"Description"),(0,o.kt)("td",{parentName:"tr",align:null},"Get the definition and data of a specific visualization.")))),(0,o.kt)("h3",{id:"mstrdossiergetvisualizationdata-examples"},(0,o.kt)("inlineCode",{parentName:"h3"},"MstrDossier.getVisualizationData")," examples"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'try {\n  const dossierDefinition = await mstrDossier.getVisualizationData({\n    visualizationKey: "K52", // visualization key, required\n    offset: 0, // data offset, optional\n    limit: 100, // data limit, optional\n  });\n  // Your own code\n} catch (error) {\n  // Your own error handling code\n}\n')),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Example of the visualization data in the resolved value:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "k": "K52",\n  "n": "Visualization 1",\n  "key": "K52",\n  "name": "Visualization 1",\n  "isGrid": true,\n  "visualizationType": "grid",\n  "definition": {\n    "grid": {\n      "crossTab": false,\n      "metricsPosition": {\n        "axis": "columns",\n        "index": 0\n      },\n      "rows": [\n        {\n          "name": "Year",\n          "id": "8D679D5111D3E4981000E787EC6DE8A4",\n          "type": "attribute",\n          "forms": [\n            {\n              "id": "45C11FA478E745FEA08D781CEA190FE5",\n              "name": "ID",\n              "dataType": "integer",\n              "baseFormCategory": "ID",\n              "baseFormType": "number"\n            }\n          ],\n          "elements": [\n            {\n              "formValues": ["2014"],\n              "id": "h2014;8D679D5111D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["2015"],\n              "id": "h2015;8D679D5111D3E4981000E787EC6DE8A4"\n            },\n            {\n              "formValues": ["2016"],\n              "id": "h2016;8D679D5111D3E4981000E787EC6DE8A4"\n            }\n          ]\n        }\n      ],\n      "columns": [\n        {\n          "name": "Metrics",\n          "id": "00000000000000000000000000000000",\n          "type": "templateMetrics",\n          "elements": [\n            {\n              "name": "Cost",\n              "id": "7FD5B69611D5AC76C000D98A4CC5F24F",\n              "type": "metric",\n              "min": 7343097.059599997,\n              "max": 12609466.811,\n              "dataType": "double",\n              "numberFormatting": {\n                "category": 1,\n                "decimalPlaces": 0,\n                "thousandSeparator": true,\n                "currencySymbol": "$",\n                "currencyPosition": 0,\n                "formatString": "\\"$\\"#,##0",\n                "negativeType": 1\n              }\n            }\n          ]\n        }\n      ],\n      "sorting": {\n        "rows": [],\n        "columns": [],\n        "pageBy": []\n      },\n      "thresholds": []\n    }\n  },\n  "data": {\n    "paging": {\n      "total": 3,\n      "current": 3,\n      "offset": 0,\n      "limit": 1000\n    },\n    "headers": {\n      "rows": [[0], [1], [2]],\n      "columns": [[0]]\n    },\n    "metricValues": {\n      "raw": [[7343097.059599997], [9777520.649800004], [12609466.811]],\n      "formatted": [["$7,343,097"], ["$9,777,521"], ["$12,609,467"]],\n      "extras": [[{}], [{}], [{}]]\n    }\n  },\n  "promptOrdering": []\n}\n'))))}f.isMDXComponent=!0}}]);