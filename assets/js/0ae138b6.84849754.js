"use strict";(self.webpackChunkembedding_sdk_docs=self.webpackChunkembedding_sdk_docs||[]).push([[319],{8758:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>r,default:()=>c,frontMatter:()=>s,metadata:()=>a,toc:()=>h});var i=n(5893),o=n(1151);const s={title:"Seamless login using identity token",description:"How to do seamless login with identity token"},r=void 0,a={id:"support-for-different-authentication-environments/seamless-login",title:"Seamless login using identity token",description:"How to do seamless login with identity token",source:"@site/docs/support-for-different-authentication-environments/seamless-login.md",sourceDirName:"support-for-different-authentication-environments",slug:"/support-for-different-authentication-environments/seamless-login",permalink:"/embedding-sdk-docs/support-for-different-authentication-environments/seamless-login",draft:!1,unlisted:!1,editUrl:"https://github.com/MicroStrategy/embedding-sdk-docs/tree/public/docs/support-for-different-authentication-environments/seamless-login.md",tags:[],version:"current",lastUpdatedBy:"xdumstr",lastUpdatedAt:1664470316,formattedLastUpdatedAt:"Sep 29, 2022",frontMatter:{title:"Seamless login using identity token",description:"How to do seamless login with identity token"},sidebar:"tutorialSidebar",previous:{title:"Use SAML or OIDC authentication",permalink:"/embedding-sdk-docs/support-for-different-authentication-environments/authentication-saml"},next:{title:"Add functionality to an embedded dossier",permalink:"/embedding-sdk-docs/add-functionality/"}},d={},h=[{value:"Getting identity token from Library Server",id:"getting-identity-token-from-library-server",level:2},{value:"Getting identity token from MicroStrategy Web",id:"getting-identity-token-from-microstrategy-web",level:2}];function l(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",...(0,o.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:"When you embed a MicroStrategy dossier in your application, you can provide a seamless login experience for users who are already authenticated on your server so that they don't have to authenticate again on the MicroStrategy Server."}),"\n",(0,i.jsx)(t.p,{children:"For example, assume that a user is already authenticated with a third-party server and this 3rd-party server is managing the user credentials so that it can authenticate with other applications on the user's behalf. (The third-party server is responsible for securing the data and initiating authentication on HTTPS.) If a user has already logged into MicroStrategy Web, you can also get an identity token using MicroStrategy Task API."}),"\n",(0,i.jsxs)(t.p,{children:["MicroStrategy Embedding SDK supports ",(0,i.jsx)(t.a,{href:"/embedding-sdk-docs/add-functionality/methods-and-properties#customauthenticationtype",children:"identity token"})," as a custom authentication type."]}),"\n",(0,i.jsx)(t.h2,{id:"getting-identity-token-from-library-server",children:"Getting identity token from Library Server"}),"\n",(0,i.jsx)(t.p,{children:"The authentication workflow is the following:"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Seamless login",src:n(7442).Z+"",width:"1250",height:"799"})}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["The third-party application server logs in, invoking the REST API login endpoint (",(0,i.jsx)(t.code,{children:"POST /api/auth/login"}),") and providing the user's credential information."]}),"\n",(0,i.jsxs)(t.li,{children:["Once the user is logged in, the identity token can be retrieved with the authorization token, using ",(0,i.jsx)(t.code,{children:"POST /api/auth/identityToken"}),". The MicroStrategy Library Server returns an identity token to the caller in the response header. The identity token has a very short duration."]}),"\n",(0,i.jsx)(t.li,{children:"The client provides the identity token to the Embedding SDK, which is used for embedding a dossier."}),"\n",(0,i.jsx)(t.li,{children:"The SDK will exchange the identity token for an authorization token and use the authorization token to communicate with the Library Server in the subsequent requests."}),"\n"]}),"\n",(0,i.jsx)(t.admonition,{type:"tip",children:(0,i.jsxs)(t.p,{children:["A live example can be seen on ",(0,i.jsx)(t.a,{href:"https://microstrategy.github.io/embedding-sdk-samples/feature_showcase/3_Use_IdentityToken.html",children:"GitHub"}),", which shows how to pass the identity token to Embedding SDK. Also check out ",(0,i.jsx)(t.a,{href:"https://microstrategy.github.io/embedding-sdk-samples/",children:"other examples"}),"."]})}),"\n",(0,i.jsx)(t.h2,{id:"getting-identity-token-from-microstrategy-web",children:"Getting identity token from MicroStrategy Web"}),"\n",(0,i.jsx)(t.p,{children:"If your user has already logged into MicroStrategy Web, you can get identity token from MicroStrategy Web and use the identity token in Embedding SDK."}),"\n",(0,i.jsx)(t.p,{children:"The authentication workflow is the following:"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Web Seamless Login",src:n(9315).Z+"",width:"1350",height:"740"})}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["User has already logged into MicroStrategy Web. The client application calls ",(0,i.jsx)(t.code,{children:"createIdentityToken"})," task. ",(0,i.jsx)(t.code,{children:"POST /servlet/taskProc"})," with ",(0,i.jsx)(t.code,{children:"taskId=createIdentityToken&taskContentType=json&taskEnv=xhr"})," in payload. See ",(0,i.jsx)(t.a,{href:"https://www2.microstrategy.com/producthelp/Current/WEBSDK/Content/topics/taskinfr/TI_QuickStartGuide_UseTasks.htm",children:"Web SDK"})," for how to use tasks."]}),"\n",(0,i.jsx)(t.li,{children:"The MicroStrategy Web returns an identity token to the caller in the response body. The identity token has a very short duration."}),"\n",(0,i.jsx)(t.li,{children:"The client application provides the identity token to the Embedding SDK, which is used for embedding a dossier."}),"\n",(0,i.jsx)(t.li,{children:"The SDK will exchange the identity token for an authorization token and use the authorization token to communicate with the Library Server in the subsequent requests."}),"\n"]}),"\n",(0,i.jsx)(t.admonition,{type:"tip",children:(0,i.jsxs)(t.p,{children:["You need to enable seamless login between MicroStrategy Web and Library to use this workflow. See ",(0,i.jsx)(t.a,{href:"https://www2.microstrategy.com/producthelp/current/InstallConfig/en-us/Content/enable_seamless_login_web_library.htm",children:"this document"})," for details."]})})]})}function c(e={}){const{wrapper:t}={...(0,o.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},7442:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/seamless_login-dcf079276c58a2d20433d5d291890fd5.png"},9315:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/web_seamless_login-b2ccbe1d05b586f844625d2b234e5025.jpg"},1151:(e,t,n)=>{n.d(t,{Z:()=>a,a:()=>r});var i=n(7294);const o={},s=i.createContext(o);function r(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);