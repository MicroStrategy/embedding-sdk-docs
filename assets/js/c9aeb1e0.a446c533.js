"use strict";(self.webpackChunkembedding_sdk_docs=self.webpackChunkembedding_sdk_docs||[]).push([[5081],{3251:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>l,frontMatter:()=>d,metadata:()=>o,toc:()=>a});var r=t(5893),i=t(1151);const d={title:"embeddingComponent.environments namespace",description:"embeddingComponent.environments namespace"},s=void 0,o={id:"native-embedding-architecture/embedding-components",title:"embeddingComponent.environments namespace",description:"embeddingComponent.environments namespace",source:"@site/docs/native-embedding-architecture/embedding-components.md",sourceDirName:"native-embedding-architecture",slug:"/native-embedding-architecture/embedding-components",permalink:"/embedding-sdk-docs/native-embedding-architecture/embedding-components",draft:!1,unlisted:!1,editUrl:"https://github.com/MicroStrategy/embedding-sdk-docs/tree/public/docs/native-embedding-architecture/embedding-components.md",tags:[],version:"current",lastUpdatedBy:"Aran0011",lastUpdatedAt:1705978927,formattedLastUpdatedAt:"Jan 23, 2024",frontMatter:{title:"embeddingComponent.environments namespace",description:"embeddingComponent.environments namespace"},sidebar:"tutorialSidebar",previous:{title:"Destroy visualizations on a page",permalink:"/embedding-sdk-docs/native-embedding-architecture/destroy-multiple-viz"},next:{title:"MstrEnvironment class",permalink:"/embedding-sdk-docs/native-embedding-architecture/mstr-environment"}},c={},a=[{value:"APIs",id:"apis",level:2},{value:"The create environment API",id:"the-create-environment-api",level:3},{value:"Function",id:"function",level:4},{value:"Input Parameters",id:"input-parameters",level:4},{value:"Response",id:"response",level:4},{value:"Example",id:"example",level:4},{value:"API Errors",id:"api-errors",level:4},{value:"The destroy environment API",id:"the-destroy-environment-api",level:3},{value:"Function",id:"function-1",level:4},{value:"Input Parameters",id:"input-parameters-1",level:4},{value:"Response",id:"response-1",level:4},{value:"Example",id:"example-1",level:4},{value:"API Errors",id:"api-errors-1",level:4}];function h(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.a)(),...e.components},{Available:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Available",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t,{since:"2021 Update 9 (May 2023)"}),"\n",(0,r.jsx)(n.p,{children:"This is the entry point of the Native Embedding SDK."}),"\n",(0,r.jsx)(n.h2,{id:"apis",children:"APIs"}),"\n",(0,r.jsx)(n.h3,{id:"the-create-environment-api",children:"The create environment API"}),"\n",(0,r.jsx)(n.h4,{id:"function",children:"Function"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"async microstrategy.embeddingComponent.environments.create(props)"})}),"\n",(0,r.jsx)(n.h4,{id:"input-parameters",children:"Input Parameters"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter Name"}),(0,r.jsx)(n.th,{children:"Data Type"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Is Required"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"props.serverUrl"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"The base URL of the Library server"}),(0,r.jsx)(n.td,{children:"true"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"props.getAuthToken"}),(0,r.jsx)(n.td,{children:"function"}),(0,r.jsxs)(n.td,{children:["The function for getting the login token. ",(0,r.jsx)("br",{}),"This function is similar to ",(0,r.jsx)(n.code,{children:"getAuthToken"})," in ",(0,r.jsx)(n.code,{children:"microstrategy.dossier.create"}),". ",(0,r.jsx)("br",{}),"In 2021 Update 9, MicroStrategy only supports auth token. You can get the auth token with any auth mode."]}),(0,r.jsx)(n.td,{children:"true"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"response",children:"Response"}),"\n",(0,r.jsxs)(n.p,{children:["This API returns a promise object that resolves to a ",(0,r.jsx)(n.code,{children:"MstrEnvironment"})," object."]}),"\n",(0,r.jsx)(n.h4,{id:"example",children:"Example"}),"\n",(0,r.jsxs)(n.p,{children:["Find the ",(0,r.jsx)(n.code,{children:"getAuthToken"})," function in ",(0,r.jsx)(n.a,{href:"/embedding-sdk-docs/native-embedding-architecture/embed-multiple-viz#example-code",children:"the Native Embedding SDK doc"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'try {\n  const environment = await microstrategy.embeddingComponent.environments.create({\n    serverUrl: "https://demo.microstrategy.com/MicroStrategyLibrary",\n    getAuthToken: () => {\n      // Logic similar to the existing Native Embedding SDK, but only standard auth login is allowed\n    },\n  });\n  // Your own code\n} catch (error) {\n  // Error handling logic\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"api-errors",children:"API Errors"}),"\n",(0,r.jsx)(n.p,{children:"The errors caught in this function include:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Error Case"}),(0,r.jsx)(n.th,{children:"Error Category"}),(0,r.jsx)(n.th,{children:"Handling Module"}),(0,r.jsx)(n.th,{children:"Error Handling"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"The input parameter fails input validation"}),(0,r.jsx)(n.td,{children:"Invalid input"}),(0,r.jsx)(n.td,{children:"Native Embedding SDK"}),(0,r.jsxs)(n.td,{children:["Caught by the ",(0,r.jsx)(n.code,{children:"catch()"})," of the promise object"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"There is already another existing environment"}),(0,r.jsx)(n.td,{children:"Unsupported case"}),(0,r.jsx)(n.td,{children:"Native Embedding SDK"}),(0,r.jsxs)(n.td,{children:["Caught by the ",(0,r.jsx)(n.code,{children:"catch()"})," of the promise object"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Invalid authentication info or incorrect CORS setting"}),(0,r.jsx)(n.td,{children:"Other"}),(0,r.jsx)(n.td,{children:"Native Embedding SDK"}),(0,r.jsxs)(n.td,{children:["Caught by the ",(0,r.jsx)(n.code,{children:"catch()"})," of the promise object"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Other REST API errors"}),(0,r.jsx)(n.td,{children:"Other"}),(0,r.jsx)(n.td,{children:"Native Embedding SDK"}),(0,r.jsxs)(n.td,{children:["Caught by the ",(0,r.jsx)(n.code,{children:"catch()"})," of the promise object"]})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"the-destroy-environment-api",children:"The destroy environment API"}),"\n",(0,r.jsx)(n.h4,{id:"function-1",children:"Function"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"async microstrategy.embeddingComponent.environments.destroy(environment)"})}),"\n",(0,r.jsx)(n.h4,{id:"input-parameters-1",children:"Input Parameters"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter Name"}),(0,r.jsx)(n.th,{children:"Data Type"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Is Required"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"environment"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"MstrEnvironment"})," class"]}),(0,r.jsxs)(n.td,{children:["The environment returned by the ",(0,r.jsx)(n.code,{children:"create"})," function. ",(0,r.jsx)("br",{})," When it\u2019s not provided, the Native Embedding SDK destroys all environments in the current page."]}),(0,r.jsx)(n.td,{children:"true"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"response-1",children:"Response"}),"\n",(0,r.jsx)(n.p,{children:"This API returns a promise object, that resolves to nothing."}),"\n",(0,r.jsx)(n.h4,{id:"example-1",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"try {\n  await microstrategy.embeddingComponent.environments.destroy(environment);\n} catch (error) {\n  // Your own error handling logic\n}\n"})}),"\n",(0,r.jsx)(n.h4,{id:"api-errors-1",children:"API Errors"}),"\n",(0,r.jsx)(n.p,{children:"The errors caught in this function include:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Error Case"}),(0,r.jsx)(n.th,{children:"Error Category"}),(0,r.jsx)(n.th,{children:"Handling Module"}),(0,r.jsx)(n.th,{children:"Error Handling"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"The environment doesn't exist in the client\u2019s page"}),(0,r.jsx)(n.td,{children:"Invalid input"}),(0,r.jsx)(n.td,{children:"Native Embedding SDK"}),(0,r.jsxs)(n.td,{children:["Caught by the ",(0,r.jsx)(n.code,{children:"catch()"})," of the promise object"]})]})})]})]})}function l(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>o,a:()=>s});var r=t(7294);const i={},d=r.createContext(i);function s(e){const n=r.useContext(d);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(d.Provider,{value:n},e.children)}}}]);