"use strict";(self.webpackChunkembedding_sdk_docs=self.webpackChunkembedding_sdk_docs||[]).push([[8829],{8167:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>s,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>o});var d=i(5893),t=i(1151);const l={title:"Add event handling",description:"Events allow an embedded dashboard to communicate with the container page. You can listen for these events and provide event handler functions to respond to them. You use helper methods in the Embedding SDK to add event handling. For example, you can add code to capture selection events from one dashboard and apply them as a filter to a second dashboard."},a=void 0,r={id:"add-functionality/add-event",title:"Add event handling",description:"Events allow an embedded dashboard to communicate with the container page. You can listen for these events and provide event handler functions to respond to them. You use helper methods in the Embedding SDK to add event handling. For example, you can add code to capture selection events from one dashboard and apply them as a filter to a second dashboard.",source:"@site/docs/add-functionality/add-event.md",sourceDirName:"add-functionality",slug:"/add-functionality/add-event",permalink:"/embedding-sdk-docs/add-functionality/add-event",draft:!1,unlisted:!1,editUrl:"https://github.com/MicroStrategy/embedding-sdk-docs/tree/public/docs/add-functionality/add-event.md",tags:[],version:"current",lastUpdatedBy:"Aran0011",lastUpdatedAt:1710401361,formattedLastUpdatedAt:"Mar 14, 2024",frontMatter:{title:"Add event handling",description:"Events allow an embedded dashboard to communicate with the container page. You can listen for these events and provide event handler functions to respond to them. You use helper methods in the Embedding SDK to add event handling. For example, you can add code to capture selection events from one dashboard and apply them as a filter to a second dashboard."},sidebar:"tutorialSidebar",previous:{title:"Add navigation",permalink:"/embedding-sdk-docs/add-functionality/add-nav"},next:{title:"Retrieve and apply filters",permalink:"/embedding-sdk-docs/add-functionality/filters"}},s={},o=[{value:"Events",id:"events",level:2},{value:"onGraphicsSelected",id:"ongraphicsselected",level:3},{value:"Event enumeration",id:"event-enumeration",level:4},{value:"Description",id:"description",level:4},{value:"Content",id:"content",level:4},{value:"Code example",id:"code-example",level:4},{value:"Content example",id:"content-example",level:4},{value:"onPageSwitched",id:"onpageswitched",level:3},{value:"Event enumeration",id:"event-enumeration-1",level:4},{value:"Description",id:"description-1",level:4},{value:"Content",id:"content-1",level:4},{value:"Code example",id:"code-example-1",level:4},{value:"Content example",id:"content-example-1",level:4},{value:"onFilterUpdated",id:"onfilterupdated",level:3},{value:"Event enumeration",id:"event-enumeration-2",level:4},{value:"Description",id:"description-2",level:4},{value:"Content",id:"content-2",level:4},{value:"Code example",id:"code-example-2",level:4},{value:"Content example",id:"content-example-2",level:4},{value:"onPageLoaded",id:"onpageloaded",level:3},{value:"Event enumeration",id:"event-enumeration-3",level:4},{value:"Description",id:"description-3",level:4},{value:"Content",id:"content-3",level:4},{value:"Code example",id:"code-example-3",level:4},{value:"onLayoutChanged",id:"onlayoutchanged",level:3},{value:"Event enumeration",id:"event-enumeration-4",level:4},{value:"Description",id:"description-4",level:4},{value:"Content",id:"content-4",level:4},{value:"Code example",id:"code-example-4",level:4},{value:"Content example",id:"content-example-3",level:4},{value:"onPromptAnswered",id:"onpromptanswered",level:3},{value:"Event enumeration",id:"event-enumeration-5",level:4},{value:"Description",id:"description-5",level:4},{value:"Content",id:"content-5",level:4},{value:"Code example",id:"code-example-5",level:4},{value:"Content example",id:"content-example-4",level:4},{value:"onPromptLoaded",id:"onpromptloaded",level:3},{value:"Event enumeration",id:"event-enumeration-6",level:4},{value:"Description",id:"description-6",level:4},{value:"Content",id:"content-6",level:4},{value:"Code example",id:"code-example-6",level:4},{value:"onVizSelectionChanged",id:"onvizselectionchanged",level:3},{value:"Event enumeration",id:"event-enumeration-7",level:4},{value:"Description",id:"description-7",level:4},{value:"Content",id:"content-7",level:4},{value:"Code example",id:"code-example-7",level:4},{value:"Content example",id:"content-example-5",level:4},{value:"onVisualizationElementsChanged",id:"onvisualizationelementschanged",level:3},{value:"Event enumeration",id:"event-enumeration-8",level:4},{value:"Description",id:"description-8",level:4},{value:"Content",id:"content-8",level:4},{value:"Code example",id:"code-example-8",level:4},{value:"Content example",id:"content-example-6",level:4},{value:"onVisualizationResized",id:"onvisualizationresized",level:3},{value:"Event enumeration",id:"event-enumeration-9",level:4},{value:"Description",id:"description-9",level:4},{value:"Content",id:"content-9",level:4},{value:"Code example",id:"code-example-9",level:4},{value:"Content example",id:"content-example-7",level:4},{value:"onLibraryItemSelected",id:"onlibraryitemselected",level:3},{value:"Event enumeration",id:"event-enumeration-10",level:4},{value:"Description",id:"description-10",level:4},{value:"Content",id:"content-10",level:4},{value:"Code example",id:"code-example-10",level:4},{value:"Content example",id:"content-example-8",level:4},{value:"onLibraryMenuSelected",id:"onlibrarymenuselected",level:3},{value:"Event enumeration",id:"event-enumeration-11",level:4},{value:"Description",id:"description-11",level:4},{value:"Content",id:"content-11",level:4},{value:"Code example",id:"code-example-11",level:4},{value:"Content example",id:"content-example-9",level:4},{value:"onLibraryItemSelectionCleared",id:"onlibraryitemselectioncleared",level:3},{value:"Event enumeration",id:"event-enumeration-12",level:4},{value:"Description",id:"description-12",level:4},{value:"Content",id:"content-12",level:4},{value:"Code example",id:"code-example-12",level:4},{value:"onDossierInstanceIDChange",id:"ondossierinstanceidchange",level:3},{value:"Event enumeration",id:"event-enumeration-13",level:4},{value:"Description",id:"description-13",level:4},{value:"Content",id:"content-13",level:4},{value:"Code example",id:"code-example-13",level:4},{value:"Content example",id:"content-example-10",level:4},{value:"onDossierAuthoringSaved",id:"ondossierauthoringsaved",level:3},{value:"Event enumeration",id:"event-enumeration-14",level:4},{value:"Description",id:"description-14",level:4},{value:"Content",id:"content-14",level:4},{value:"Code example",id:"code-example-14",level:4},{value:"onDossierAuthoringClosed",id:"ondossierauthoringclosed",level:3},{value:"Event enumeration",id:"event-enumeration-15",level:4},{value:"Description",id:"description-15",level:4},{value:"Content",id:"content-15",level:4},{value:"Code example",id:"code-example-15",level:4},{value:"onPageRenderFinished",id:"onpagerenderfinished",level:3},{value:"Event enumeration",id:"event-enumeration-16",level:4},{value:"Description",id:"description-16",level:4},{value:"Content",id:"content-16",level:4},{value:"Code example",id:"code-example-16",level:4},{value:"onDossierInstanceChanged",id:"ondossierinstancechanged",level:3},{value:"Event enumeration",id:"event-enumeration-17",level:4},{value:"Description",id:"description-17",level:4},{value:"Content",id:"content-17",level:4},{value:"Code example",id:"code-example-17",level:4},{value:"Content example",id:"content-example-11",level:4},{value:"onComponentSelectionChanged",id:"oncomponentselectionchanged",level:3},{value:"Event enumeration",id:"event-enumeration-18",level:4},{value:"Description",id:"description-18",level:4},{value:"Content",id:"content-18",level:4},{value:"Code example",id:"code-example-18",level:4},{value:"Content example",id:"content-example-12",level:4},{value:"Event handlers",id:"event-handlers",level:2},{value:"registerEventHandler(evtName, handler)",id:"registereventhandlerevtname-handler",level:3},{value:"Class",id:"class",level:4},{value:"Description",id:"description-19",level:4},{value:"removeEventHandler(evtName, handler)",id:"removeeventhandlerevtname-handler",level:3},{value:"Class",id:"class-1",level:4},{value:"Description",id:"description-20",level:4},{value:"Wrapper functions",id:"wrapper-functions",level:2},{value:"registerGraphicsSelectEventHandlerToViz(vizKey, handler)",id:"registergraphicsselecteventhandlertovizvizkey-handler",level:3},{value:"Class",id:"class-2",level:4},{value:"Description",id:"description-21",level:4},{value:"registerFilterUpdateHandler(handler)",id:"registerfilterupdatehandlerhandler",level:3},{value:"Class",id:"class-3",level:4},{value:"Description",id:"description-22",level:4},{value:"registerPageSwitchHandler(handler)",id:"registerpageswitchhandlerhandler",level:3},{value:"Class",id:"class-4",level:4},{value:"Description",id:"description-23",level:4},{value:"registerDossierInstanceIDChangeHandler(handler)",id:"registerdossierinstanceidchangehandlerhandler",level:3},{value:"Class",id:"class-5",level:4},{value:"Description",id:"description-24",level:4}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",...(0,t.a)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.p,{children:"Events allow an embedded dashboard to communicate with the container page. You can listen to these events and provide event handler functions to respond to them. You use helper methods in the Embedding SDK to add event handlers. For example, you can add code to capture selection events from one dashboard and apply them as a filter to a second dashboard."}),"\n",(0,d.jsx)(n.admonition,{type:"tip",children:(0,d.jsxs)(n.p,{children:["To help you get started, we have provided an ",(0,d.jsx)(n.a,{href:"https://microstrategy.github.io/playground/?example=g5",children:"example in the Embedding SDK Playground"})," that embeds a dashboard and adds event handling, as well as a description of ",(0,d.jsx)(n.a,{href:"#events",children:"events"}),", ",(0,d.jsx)(n.a,{href:"#event-handlers",children:"event handlers"}),", and ",(0,d.jsx)(n.a,{href:"#wrapper-functions",children:"wrapper functions"})," you can use to handle additional events."]})}),"\n",(0,d.jsxs)(n.p,{children:["Once you have used the ",(0,d.jsx)(n.code,{children:"dossier.create(props)"})," method to embed a dashboard into a third-party web page, you can use the methods described below to communicate between the dashboard and the container page. You can register ",(0,d.jsx)(n.a,{href:"#event-handlers",children:"event handlers"})," for the ",(0,d.jsx)(n.a,{href:"#events",children:"events"})," that are automatically raised when a visualization is selected or when a page or filter is changed. ",(0,d.jsx)(n.a,{href:"#wrapper-functions",children:"Wrapper functions"})," are provided to make it easy to register event handlers for specific events."]}),"\n",(0,d.jsx)(n.h2,{id:"events",children:"Events"}),"\n",(0,d.jsxs)(n.p,{children:["Each supported event is described in the table below. You get the EventType from ",(0,d.jsx)(n.code,{children:"microstrategy.dossier.EventType"}),"."]}),"\n",(0,d.jsx)(n.h3,{id:"ongraphicsselected",children:"onGraphicsSelected"}),"\n",(0,d.jsx)(n.h4,{id:"event-enumeration",children:"Event enumeration"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"EventType.ON_GRAPHICS_SELECTED"})}),"\n",(0,d.jsx)(n.h4,{id:"description",children:"Description"}),"\n",(0,d.jsx)(n.p,{children:'Raised when a graphic in the visualization is selected. This event is raised only if the visualization supports "use as filter".'}),"\n",(0,d.jsx)(n.h4,{id:"content",children:"Content"}),"\n",(0,d.jsx)(n.p,{children:"Attribute element list for each selected graphic."}),"\n",(0,d.jsx)(n.h4,{id:"code-example",children:"Code example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",children:"embedDossier.registerEventHandler(EventType.ON_GRAPHICS_SELECTED, graphicsSelectedHandler);\n"})}),"\n",(0,d.jsx)(n.h4,{id:"content-example",children:"Content example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "vizKey": "K52",\n  "graphics": [\n    //an array containing all the selected graphics info, each item is one graphic\n    [\n      // an array containing the attribute combination for one graphic\n      //n: attribute name, v: attribute value\n      { "n": "Category", "v": "Electronics" },\n      { "n": "Quarter", "v": "2009 Q4" }\n    ],\n    [\n      { "n": "Category", "v": "Electronics" },\n      { "n": "Quarter", "v": "2009 Q3" }\n    ]\n  ]\n}\n'})}),"\n",(0,d.jsx)(n.h3,{id:"onpageswitched",children:"onPageSwitched"}),"\n",(0,d.jsx)(n.h4,{id:"event-enumeration-1",children:"Event enumeration"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"EventType.ON_PAGE_SWITCHED"})}),"\n",(0,d.jsx)(n.h4,{id:"description-1",children:"Description"}),"\n",(0,d.jsx)(n.p,{children:"Raised when the page is switched."}),"\n",(0,d.jsx)(n.h4,{id:"content-1",children:"Content"}),"\n",(0,d.jsx)(n.p,{children:"Object containing the key of the page you switched to."}),"\n",(0,d.jsx)(n.h4,{id:"code-example-1",children:"Code example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",children:"embedDossier.registerEventHandler(EventType.ON_PAGE_SWITCHED, pageSwitchedHandler);\n"})}),"\n",(0,d.jsx)(n.h4,{id:"content-example-1",children:"Content example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "key": "K52"\n}\n'})}),"\n",(0,d.jsx)(n.h3,{id:"onfilterupdated",children:"onFilterUpdated"}),"\n",(0,d.jsx)(n.h4,{id:"event-enumeration-2",children:"Event enumeration"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"EventType.ON_FILTER_UPDATED"})}),"\n",(0,d.jsx)(n.h4,{id:"description-2",children:"Description"}),"\n",(0,d.jsx)(n.p,{children:"Raised when a filter is changed."}),"\n",(0,d.jsx)(n.h4,{id:"content-2",children:"Content"}),"\n",(0,d.jsx)(n.p,{children:"Object containing changed filter information."}),"\n",(0,d.jsx)(n.h4,{id:"code-example-2",children:"Code example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",children:"embedDossier.registerEventHandler(EventType.ON_FILTER_UPDATED, filterUpdatedHandler);\n"})}),"\n",(0,d.jsx)(n.h4,{id:"content-example-2",children:"Content example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "filterInfo": [\n    {\n      "filterKey": "W132",\n      "filterName": "Year",\n      "isExclude": false,\n      "filterType": "attributeSelector",\n      "filterDetail": {\n        "items": [\n          {\n            "name": "2014",\n            "value": "h2014;8D679D5111D3E4981000E787EC6DE8A4",\n            "selected": false\n          },\n          {\n            "name": "2015",\n            "value": "h2015;8D679D5111D3E4981000E787EC6DE8A4",\n            "selected": true\n          },\n          {\n            "name": "2016",\n            "value": "h2016;8D679D5111D3E4981000E787EC6DE8A4",\n            "selected": false\n          }\n        ],\n        "supportMultiple": false\n      }\n    }\n  ]\n}\n'})}),"\n",(0,d.jsx)(n.h3,{id:"onpageloaded",children:"onPageLoaded"}),"\n",(0,d.jsx)(n.h4,{id:"event-enumeration-3",children:"Event enumeration"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"EventType.ON_PAGE_LOADED"})}),"\n",(0,d.jsx)(n.h4,{id:"description-3",children:"Description"}),"\n",(0,d.jsx)(n.p,{children:"Raised when the page is loaded for the first time."}),"\n",(0,d.jsx)(n.h4,{id:"content-3",children:"Content"}),"\n",(0,d.jsx)(n.p,{children:"None"}),"\n",(0,d.jsx)(n.h4,{id:"code-example-3",children:"Code example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",children:"embedDossier.registerEventHandler(EventType.ON_PAGE_LOADED, onPageLoadedHandler);\n"})}),"\n",(0,d.jsx)(n.h3,{id:"onlayoutchanged",children:"onLayoutChanged"}),"\n",(0,d.jsx)(n.h4,{id:"event-enumeration-4",children:"Event enumeration"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"EventType.ON_LAYOUT_CHANGED"})}),"\n",(0,d.jsx)(n.h4,{id:"description-4",children:"Description"}),"\n",(0,d.jsx)(n.p,{children:"Raised when the layout changes."}),"\n",(0,d.jsx)(n.h4,{id:"content-4",children:"Content"}),"\n",(0,d.jsx)(n.p,{children:"Object containing layout changed information."}),"\n",(0,d.jsx)(n.h4,{id:"code-example-4",children:"Code example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",children:"embedDossier.registerEventHandler(EventType.ON_LAYOUT_CHANGED, layoutChangedHandler);\n"})}),"\n",(0,d.jsx)(n.h4,{id:"content-example-3",children:"Content example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "layoutMode": 2,\n  "dimension": {\n    "height": 600,\n    "width": 716,\n    "offsetTop": 0\n  }\n}\n'})}),"\n",(0,d.jsx)(n.h3,{id:"onpromptanswered",children:"onPromptAnswered"}),"\n",(0,d.jsx)(n.h4,{id:"event-enumeration-5",children:"Event enumeration"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"EventType.ON_PROMPT_ANSWERED"})}),"\n",(0,d.jsx)(n.h4,{id:"description-5",children:"Description"}),"\n",(0,d.jsx)(n.p,{children:"Raised when a prompt is answered."}),"\n",(0,d.jsx)(n.h4,{id:"content-5",children:"Content"}),"\n",(0,d.jsx)(n.p,{children:"Object containing prompt answers information."}),"\n",(0,d.jsx)(n.h4,{id:"code-example-5",children:"Code example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",children:"embedDossier.registerEventHandler(EventType.ON_PROMPT_ANSWERED, promptAnsweredHandler);\n"})}),"\n",(0,d.jsx)(n.h4,{id:"content-example-4",children:"Content example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "messageName": "Sales Dashboard (w/ Attribute Element Prompt)",\n  "answers": [\n    {\n      "key": "3ECF2592C947B909B01624BCF690D6EA@0@10",\n      "values": ["8D679D4F11D3E4981000E787EC6DE8A4:14~1048576~Books - Miscellaneous"],\n      "useDefault": false\n    }\n  ]\n}\n'})}),"\n",(0,d.jsx)(n.h3,{id:"onpromptloaded",children:"onPromptLoaded"}),"\n",(0,d.jsx)(n.h4,{id:"event-enumeration-6",children:"Event enumeration"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"EventType.ON_PROMPT_LOADED"})}),"\n",(0,d.jsx)(n.h4,{id:"description-6",children:"Description"}),"\n",(0,d.jsx)(n.p,{children:"Raised when a prompt is loaded."}),"\n",(0,d.jsx)(n.h4,{id:"content-6",children:"Content"}),"\n",(0,d.jsx)(n.p,{children:"None"}),"\n",(0,d.jsx)(n.h4,{id:"code-example-6",children:"Code example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",children:"embedDossier.registerEventHandler(EventType.ON_PROMPT_LOADED, promptLoadedHandler);\n"})}),"\n",(0,d.jsx)(n.h3,{id:"onvizselectionchanged",children:"onVizSelectionChanged"}),"\n",(0,d.jsx)(n.h4,{id:"event-enumeration-7",children:"Event enumeration"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"EventType.ON_VIZ_SELECTION_CHANGED"})}),"\n",(0,d.jsx)(n.h4,{id:"description-7",children:"Description"}),"\n",(0,d.jsx)(n.p,{children:"Raised when a visualization selection is changed. Need visualization selection to be enabled."}),"\n",(0,d.jsx)(n.h4,{id:"content-7",children:"Content"}),"\n",(0,d.jsx)(n.p,{children:"Object containing visualization selection information."}),"\n",(0,d.jsx)(n.h4,{id:"code-example-7",children:"Code example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",children:"embedDossier.registerEventHandler(EventType.ON_VIZ_SELECTION_CHANGED, vizSelectionChangedHandler);\n"})}),"\n",(0,d.jsx)(n.h4,{id:"content-example-5",children:"Content example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "K36": {\n    "K52": true,\n    "visualizationLocation": {\n      "K52": {\n        "pageKey": "K53"\n      }\n    }\n  }\n}\n'})}),"\n",(0,d.jsx)(n.h3,{id:"onvisualizationelementschanged",children:"onVisualizationElementsChanged"}),"\n",(0,d.jsx)(n.h4,{id:"event-enumeration-8",children:"Event enumeration"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"EventType.ON_VIZ_ELEMENT_CHANGED"})}),"\n",(0,d.jsx)(n.h4,{id:"description-8",children:"Description"}),"\n",(0,d.jsx)(n.p,{children:"Raised when a visualization element is changed."}),"\n",(0,d.jsx)(n.h4,{id:"content-8",children:"Content"}),"\n",(0,d.jsx)(n.p,{children:"Array of objects containing visualization element changed information."}),"\n",(0,d.jsx)(n.h4,{id:"code-example-8",children:"Code example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",children:"embedDossier.registerEventHandler(EventType.ON_VIZ_ELEMENT_CHANGED, vizElementChangedHandler);\n"})}),"\n",(0,d.jsx)(n.h4,{id:"content-example-6",children:"Content example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "visualizationKey": "K52",\n    "attributeElements": [\n      {\n        "attribute": {\n          "id": "70BACB0C3844364E12D005B61DC8C718",\n          "name": "Product"\n        },\n        "elements": [\n          {\n            "id": "h20129;70BACB0C3844364E12D005B61DC8C718",\n            "name": "Sebixtex"\n          },\n          {\n            "id": "h20114;70BACB0C3844364E12D005B61DC8C718",\n            "name": "Ecin"\n          }\n        ]\n      }\n    ]\n  }\n]\n'})}),"\n",(0,d.jsx)(n.h3,{id:"onvisualizationresized",children:"onVisualizationResized"}),"\n",(0,d.jsx)(n.h4,{id:"event-enumeration-9",children:"Event enumeration"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"EventType.ON_VISUALIZATION_RESIZED"})}),"\n",(0,d.jsx)(n.h4,{id:"description-9",children:"Description"}),"\n",(0,d.jsx)(n.p,{children:"Raised when a visualization changes size."}),"\n",(0,d.jsx)(n.h4,{id:"content-9",children:"Content"}),"\n",(0,d.jsx)(n.p,{children:"Object containing the visualization that changed size information."}),"\n",(0,d.jsx)(n.h4,{id:"code-example-9",children:"Code example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",children:"embedDossier.registerEventHandler(EventType.ON_VISUALIZATION_RESIZED, vizResizedChangedHandler);\n"})}),"\n",(0,d.jsx)(n.h4,{id:"content-example-7",children:"Content example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "visualizationKey": "W367",\n  "size": "normal"\n}\n'})}),"\n",(0,d.jsx)(n.h3,{id:"onlibraryitemselected",children:"onLibraryItemSelected"}),"\n",(0,d.jsx)(n.h4,{id:"event-enumeration-10",children:"Event enumeration"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"EventType.ON_LIBRARY_ITEM_SELECTED"})}),"\n",(0,d.jsx)(n.h4,{id:"description-10",children:"Description"}),"\n",(0,d.jsx)(n.p,{children:"Raised when a library item selected. Need library item select mode to be enabled."}),"\n",(0,d.jsx)(n.h4,{id:"content-10",children:"Content"}),"\n",(0,d.jsx)(n.p,{children:"Object containing library item selection information."}),"\n",(0,d.jsx)(n.h4,{id:"code-example-10",children:"Code example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",children:"embedDossier.registerEventHandler(EventType.ON_LIBRARY_ITEM_SELECTED, libraryItemSelectionHandler);\n"})}),"\n",(0,d.jsx)(n.h4,{id:"content-example-8",children:"Content example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "id": "A7B1C43C4ABA7E499D4E1789A2EBCD55",\n    "docId": "BFB749B340572473A1288E9A2F6EDDA6",\n    "projectId": "B19DEDCC11D4E0EFC000EB9495D0F44F",\n    "name": "Distribution Center & Brands",\n    "type": 55,\n    "subtype": null\n  }\n]\n'})}),"\n",(0,d.jsx)(n.h3,{id:"onlibrarymenuselected",children:"onLibraryMenuSelected"}),"\n",(0,d.jsx)(n.h4,{id:"event-enumeration-11",children:"Event enumeration"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"EventType.ON_LIBRARY_MENU_SELECTED"})}),"\n",(0,d.jsx)(n.h4,{id:"description-11",children:"Description"}),"\n",(0,d.jsx)(n.p,{children:"Raised when a library menu selected."}),"\n",(0,d.jsx)(n.h4,{id:"content-11",children:"Content"}),"\n",(0,d.jsx)(n.p,{children:"Object containing library menu selection information."}),"\n",(0,d.jsx)(n.h4,{id:"code-example-11",children:"Code example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",children:"embedDossier.registerEventHandler(EventType.ON_LIBRARY_MENU_SELECTED, libraryMenuSelectionHandler);\n"})}),"\n",(0,d.jsx)(n.h4,{id:"content-example-9",children:"Content example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "menuKey": "myContent",\n  "groupId": null\n}\n'})}),"\n",(0,d.jsx)(n.h3,{id:"onlibraryitemselectioncleared",children:"onLibraryItemSelectionCleared"}),"\n",(0,d.jsx)(n.h4,{id:"event-enumeration-12",children:"Event enumeration"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"EventType.ON_LIBRARY_ITEM_SELECTION_CLEARED"})}),"\n",(0,d.jsx)(n.h4,{id:"description-12",children:"Description"}),"\n",(0,d.jsx)(n.p,{children:"Raised when a library item selection cleared."}),"\n",(0,d.jsx)(n.h4,{id:"content-12",children:"Content"}),"\n",(0,d.jsx)(n.p,{children:"None"}),"\n",(0,d.jsx)(n.h4,{id:"code-example-12",children:"Code example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",children:"embedDossier.registerEventHandler(\n  EventType.ON_LIBRARY_ITEM_SELECTION_CLEARED,\n  libraryItemSelectioClearnHandler\n);\n"})}),"\n",(0,d.jsx)(n.h3,{id:"ondossierinstanceidchange",children:"onDossierInstanceIDChange"}),"\n",(0,d.jsx)(n.h4,{id:"event-enumeration-13",children:"Event enumeration"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"EventType.ON_DOSSIER_INSTANCE_ID_CHANGE"})}),"\n",(0,d.jsx)(n.h4,{id:"description-13",children:"Description"}),"\n",(0,d.jsx)(n.p,{children:"Raised when the embedded dashboard instance id changes."}),"\n",(0,d.jsx)(n.h4,{id:"content-13",children:"Content"}),"\n",(0,d.jsx)(n.p,{children:"String of the new instance id."}),"\n",(0,d.jsx)(n.h4,{id:"code-example-13",children:"Code example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",children:"embedDossier.registerEventHandler(EventType.ON_DOSSIER_INSTANCE_ID_CHANGE, dossierChangedHandler);\n"})}),"\n",(0,d.jsx)(n.h4,{id:"content-example-10",children:"Content example"}),"\n",(0,d.jsx)(n.p,{children:'"003EB6548141F191CC73308269BB2635"'}),"\n",(0,d.jsx)(n.h3,{id:"ondossierauthoringsaved",children:"onDossierAuthoringSaved"}),"\n",(0,d.jsx)(n.h4,{id:"event-enumeration-14",children:"Event enumeration"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"EventType.ON_DOSSIER_AUTHORING_SAVED"})}),"\n",(0,d.jsx)(n.h4,{id:"description-14",children:"Description"}),"\n",(0,d.jsx)(n.p,{children:"Raised when a dashboard is saved after authoring or editing."}),"\n",(0,d.jsx)(n.h4,{id:"content-14",children:"Content"}),"\n",(0,d.jsx)(n.p,{children:"None"}),"\n",(0,d.jsx)(n.h4,{id:"code-example-14",children:"Code example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",children:"embedDossier.registerEventHandler(\n  EventType.ON_DOSSIER_AUTHORING_SAVED,\n  dossierAuthoringSavedHandler\n);\n"})}),"\n",(0,d.jsx)(n.h3,{id:"ondossierauthoringclosed",children:"onDossierAuthoringClosed"}),"\n",(0,d.jsx)(n.h4,{id:"event-enumeration-15",children:"Event enumeration"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"EventType.ON_DOSSIER_AUTHORING_CLOSED"})}),"\n",(0,d.jsx)(n.h4,{id:"description-15",children:"Description"}),"\n",(0,d.jsx)(n.p,{children:"Raised when the authoring or edit mode of dashboard is closed."}),"\n",(0,d.jsx)(n.h4,{id:"content-15",children:"Content"}),"\n",(0,d.jsx)(n.p,{children:"None"}),"\n",(0,d.jsx)(n.h4,{id:"code-example-15",children:"Code example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",children:"embedDossier.registerEventHandler(\n  EventType.ON_DOSSIER_AUTHORING_CLOSED,\n  dossierAuthoringClosedHandler\n);\n"})}),"\n",(0,d.jsx)(n.h3,{id:"onpagerenderfinished",children:"onPageRenderFinished"}),"\n",(0,d.jsx)(n.h4,{id:"event-enumeration-16",children:"Event enumeration"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"EventType.ON_PAGE_RENDER_FINISHED"})}),"\n",(0,d.jsx)(n.h4,{id:"description-16",children:"Description"}),"\n",(0,d.jsx)(n.p,{children:"Raised when the dashboard consumption page finishes rendering."}),"\n",(0,d.jsx)(n.h4,{id:"content-16",children:"Content"}),"\n",(0,d.jsx)(n.p,{children:"None"}),"\n",(0,d.jsx)(n.h4,{id:"code-example-16",children:"Code example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",children:"embedDossier.registerEventHandler(EventType.ON_PAGE_RENDER_FINISHED, pageRenderFinishedHandler);\n"})}),"\n",(0,d.jsx)(n.h3,{id:"ondossierinstancechanged",children:"onDossierInstanceChanged"}),"\n",(0,d.jsx)(n.h4,{id:"event-enumeration-17",children:"Event enumeration"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"EventType.ON_DOSSIER_INSTANCE_CHANGED"})}),"\n",(0,d.jsx)(n.h4,{id:"description-17",children:"Description"}),"\n",(0,d.jsx)(n.p,{children:"Raised when the a new dashboard instance is created on a dashboard consumption page."}),"\n",(0,d.jsx)(n.h4,{id:"content-17",children:"Content"}),"\n",(0,d.jsx)(n.p,{children:"The event callback parameters contain the project id, dashboard id and the instance id."}),"\n",(0,d.jsx)(n.h4,{id:"code-example-17",children:"Code example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",children:"embedDossier.registerEventHandler(EventType.ON_DOSSIER_INSTANCE_CHANGED, (content) => {\n  // Use the content here\n});\n"})}),"\n",(0,d.jsx)(n.h4,{id:"content-example-11",children:"Content example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "projectId": "B19DEDCC11D4E0EFC000EB9495D0F44F",\n  "dossierId": "D9AB379D11EC92C1D9DC0080EFD415BB",\n  "instanceId": "EC003BC7A046E75DE83373A254824F20"\n}\n'})}),"\n",(0,d.jsx)(n.h3,{id:"oncomponentselectionchanged",children:"onComponentSelectionChanged"}),"\n",(0,d.jsx)(n.h4,{id:"event-enumeration-18",children:"Event enumeration"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"EventType.ON_COMPONENT_SELECTION_CHANGED"})}),"\n",(0,d.jsx)(n.h4,{id:"description-18",children:"Description"}),"\n",(0,d.jsx)(n.p,{children:"Raised when the dashboard consumption page finishes rendering."}),"\n",(0,d.jsx)(n.h4,{id:"content-18",children:"Content"}),"\n",(0,d.jsx)(n.p,{children:"The information of the selected components."}),"\n",(0,d.jsx)(n.h4,{id:"code-example-18",children:"Code example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-js",children:"embedDossier.registerEventHandler(EventType.ON_COMPONENT_SELECTION_CHANGED, (content) => {\n  // Use the content here\n});\n"})}),"\n",(0,d.jsx)(n.h4,{id:"content-example-12",children:"Content example"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  "projectId": "B19DEDCC11D4E0EFC000EB9495D0F44F",\n  "dossierId": "EC5441154009D3C39D5BD6AD75865EF4",\n  "selectedComponents": [\n    {\n      "key": "K52",\n      "type": "visualization",\n      "chapterKey": "K36",\n      "pageKey": "K53",\n      "dimensions": {\n        "width": 300.45,\n        "height": 400.45\n      }\n    },\n    {\n      "key": "53ACF03646491B5F5F5A7B83EB1BB0BE",\n      "type": "group",\n      "chapterKey": "K87",\n      "pageKey": "K67",\n      "dimensions": {\n        "width": 700,\n        "height": 1000\n      }\n    }\n  ]\n}\n'})}),"\n",(0,d.jsx)(n.h2,{id:"event-handlers",children:"Event handlers"}),"\n",(0,d.jsx)(n.p,{children:"There are two methods for registering and removing an event handler."}),"\n",(0,d.jsx)(n.h3,{id:"registereventhandlerevtname-handler",children:"registerEventHandler(evtName, handler)"}),"\n",(0,d.jsx)(n.h4,{id:"class",children:"Class"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"Dossier"})}),"\n",(0,d.jsx)(n.h4,{id:"description-19",children:"Description"}),"\n",(0,d.jsxs)(n.p,{children:["Register the event handler ",(0,d.jsx)(n.code,{children:"handler"})," on ",(0,d.jsx)(n.code,{children:"evtName"}),"."]}),"\n",(0,d.jsx)(n.h3,{id:"removeeventhandlerevtname-handler",children:"removeEventHandler(evtName, handler)"}),"\n",(0,d.jsx)(n.h4,{id:"class-1",children:"Class"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"Dossier"})}),"\n",(0,d.jsx)(n.h4,{id:"description-20",children:"Description"}),"\n",(0,d.jsxs)(n.p,{children:["Remove the event handler ",(0,d.jsx)(n.code,{children:"handler"})," on ",(0,d.jsx)(n.code,{children:"evtName"}),"."]}),"\n",(0,d.jsx)(n.h2,{id:"wrapper-functions",children:"Wrapper functions"}),"\n",(0,d.jsx)(n.p,{children:"The following wrapper functions make it easy to register event handlers for specific events."}),"\n",(0,d.jsx)(n.h3,{id:"registergraphicsselecteventhandlertovizvizkey-handler",children:"registerGraphicsSelectEventHandlerToViz(vizKey, handler)"}),"\n",(0,d.jsx)(n.h4,{id:"class-2",children:"Class"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"Dossier"})}),"\n",(0,d.jsx)(n.h4,{id:"description-21",children:"Description"}),"\n",(0,d.jsxs)(n.p,{children:["Wrapper function for ",(0,d.jsx)(n.code,{children:"registerEventHandler"})," for ",(0,d.jsx)(n.code,{children:"EventType.ON_GRAPHICS_SELECTED"})," on certain visualizations (whose node key is equal to ",(0,d.jsx)(n.code,{children:"vizKey"}),")."]}),"\n",(0,d.jsx)(n.h3,{id:"registerfilterupdatehandlerhandler",children:"registerFilterUpdateHandler(handler)"}),"\n",(0,d.jsx)(n.h4,{id:"class-3",children:"Class"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"Dossier"})}),"\n",(0,d.jsx)(n.h4,{id:"description-22",children:"Description"}),"\n",(0,d.jsxs)(n.p,{children:["Wrapper function for ",(0,d.jsx)(n.code,{children:"registerEventHandler"})," for ",(0,d.jsx)(n.code,{children:"EventType.ON_FILTER_UPDATED"}),"."]}),"\n",(0,d.jsxs)(n.p,{children:["Equal to ",(0,d.jsx)(n.code,{children:"registerEventHandler(EventType.ON_FILTER_UPDATED, filterUpdatedHandler)"}),"."]}),"\n",(0,d.jsx)(n.h3,{id:"registerpageswitchhandlerhandler",children:"registerPageSwitchHandler(handler)"}),"\n",(0,d.jsx)(n.h4,{id:"class-4",children:"Class"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"Dossier"})}),"\n",(0,d.jsx)(n.h4,{id:"description-23",children:"Description"}),"\n",(0,d.jsxs)(n.p,{children:["Wrapper function for ",(0,d.jsx)(n.code,{children:"registerEventHandler"})," for ",(0,d.jsx)(n.code,{children:"EventType.ON_PAGE_SWITCHED"}),"."]}),"\n",(0,d.jsxs)(n.p,{children:["Equal to ",(0,d.jsx)(n.code,{children:"registerEventHandler(EventType.ON_PAGE_SWITCHED, pageSwitchedHandler)"}),"."]}),"\n",(0,d.jsxs)(n.p,{children:["Because the Map visualization can have multiple map layers, the selected graphics can come from different map layers. As a result, the event raised for ",(0,d.jsx)(n.code,{children:"EventType.ON_GRAPHICS_SELECTED"})," for the Map visualization is different from the event raised for other visualizations. See the following example."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n  //primary key for the map visualization\n  "vizKey": "W99",\n  "graphics": [\n    //each object represent the selected graphics info for one layer\n    {\n      //layer key\n      "key": "W99",\n      //layer name\n      "name": "Layer 1",\n      "graphics": [\n        [\n          { "n": "Category", "v": "Electronics" },\n          { "n": "Quarter", "v": "2009 Q4" }\n        ],\n        [\n          { "n": "Category", "v": "Electronics" },\n          { "n": "Quarter", "v": "2009 Q3" }\n        ]\n      ]\n    },\n    {\n      "key": "W100",\n      "name": "Layer 2",\n      "graphics": [\n        [\n          { "n": "Category", "v": "Books" },\n          { "n": "Year", "v": "2009" }\n        ],\n        [\n          { "n": "Category", "v": "Movies" },\n          { "n": "Year", "v": "2008" }\n        ]\n      ]\n    }\n  ]\n}\n'})}),"\n",(0,d.jsx)(n.h3,{id:"registerdossierinstanceidchangehandlerhandler",children:"registerDossierInstanceIDChangeHandler(handler)"}),"\n",(0,d.jsx)(n.h4,{id:"class-5",children:"Class"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.code,{children:"Dossier"})}),"\n",(0,d.jsx)(n.h4,{id:"description-24",children:"Description"}),"\n",(0,d.jsxs)(n.p,{children:["Wrapper function for ",(0,d.jsx)(n.code,{children:"registerEventHandler"})," for ",(0,d.jsx)(n.code,{children:"EventType.ON_DOSSIER_INSTANCE_ID_CHANGE"}),"."]}),"\n",(0,d.jsxs)(n.p,{children:["Equal to ",(0,d.jsx)(n.code,{children:"registerEventHandler(EventType.ON_DOSSIER_INSTANCE_ID_CHANGE, dossierInstanceIdChangeHandler)"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(c,{...e})}):c(e)}},1151:(e,n,i)=>{i.d(n,{Z:()=>r,a:()=>a});var d=i(7294);const t={},l=d.createContext(t);function a(e){const n=d.useContext(l);return d.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),d.createElement(l.Provider,{value:n},e.children)}}}]);