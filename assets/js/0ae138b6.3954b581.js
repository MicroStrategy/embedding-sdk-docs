"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[319],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return h}});var i=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=i.createContext({}),d=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},c=function(e){var t=d(e.components);return i.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},p=i.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=d(n),h=r,m=p["".concat(l,".").concat(h)]||p[h]||u[h]||o;return n?i.createElement(m,a(a({ref:t},c),{},{components:n})):i.createElement(m,a({ref:t},c))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,a=new Array(o);a[0]=p;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,a[1]=s;for(var d=2;d<o;d++)a[d]=n[d];return i.createElement.apply(null,a)}return i.createElement.apply(null,n)}p.displayName="MDXCreateElement"},9174:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return l},default:function(){return h},frontMatter:function(){return s},metadata:function(){return d},toc:function(){return u}});var i=n(3117),r=n(102),o=(n(7294),n(3905)),a=["components"],s={title:"Seamless login using identity token",description:"How to do seamless login with identity token"},l=void 0,d={unversionedId:"support-for-different-authentication-environments/seamless-login",id:"support-for-different-authentication-environments/seamless-login",title:"Seamless login using identity token",description:"How to do seamless login with identity token",source:"@site/docs/support-for-different-authentication-environments/seamless-login.md",sourceDirName:"support-for-different-authentication-environments",slug:"/support-for-different-authentication-environments/seamless-login",permalink:"/embedding-sdk-docs/support-for-different-authentication-environments/seamless-login",draft:!1,editUrl:"https://github.com/MicroStrategy/embedding-sdk-docs/tree/public/docs/support-for-different-authentication-environments/seamless-login.md",tags:[],version:"current",lastUpdatedBy:"magua-io",lastUpdatedAt:1665688641,formattedLastUpdatedAt:"Oct 13, 2022",frontMatter:{title:"Seamless login using identity token",description:"How to do seamless login with identity token"},sidebar:"tutorialSidebar",previous:{title:"Use SAML or OIDC authentication",permalink:"/embedding-sdk-docs/support-for-different-authentication-environments/authentication-saml"},next:{title:"Add functionality to an embedded dossier",permalink:"/embedding-sdk-docs/add-functionality/"}},c={},u=[{value:"Getting identity token from Library Server",id:"getting-identity-token-from-library-server",level:2},{value:"Getting identity token from MicroStrategy Web",id:"getting-identity-token-from-microstrategy-web",level:2}],p={toc:u};function h(e){var t=e.components,s=(0,r.Z)(e,a);return(0,o.kt)("wrapper",(0,i.Z)({},p,s,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"When you embed a MicroStrategy dossier in your application, you can provide a seamless login experience for users who are already authenticated on your server so that they don't have to authenticate again on the MicroStrategy Server."),(0,o.kt)("p",null,"For example, assume that a user is already authenticated with a third-party server and this 3rd-party server is managing the user credentials so that it can authenticate with other applications on the user's behalf. (The third-party server is responsible for securing the data and initiating authentication on HTTPS.) If a user has already logged into MicroStrategy Web, you can also get an identity token using MicroStrategy Task API."),(0,o.kt)("p",null,"MicroStrategy Embedding SDK supports ",(0,o.kt)("a",{parentName:"p",href:"/embedding-sdk-docs/add-functionality/methods-and-properties#customauthenticationtype"},"identity token")," as a custom authentication type."),(0,o.kt)("h2",{id:"getting-identity-token-from-library-server"},"Getting identity token from Library Server"),(0,o.kt)("p",null,"The authentication workflow is the following:"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Seamless login",src:n(133).Z,width:"1250",height:"799"})),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"The third-party application server logs in, invoking the REST API login endpoint (",(0,o.kt)("inlineCode",{parentName:"li"},"POST /api/auth/login"),") and providing the user's credential information."),(0,o.kt)("li",{parentName:"ol"},"Once the user is logged in, the identity token can be retrieved with the authorization token, using ",(0,o.kt)("inlineCode",{parentName:"li"},"POST /api/auth/identityToken"),". The MicroStrategy Library Server returns an identity token to the caller in the response header. The identity token has a very short duration."),(0,o.kt)("li",{parentName:"ol"},"The client provides the identity token to the Embedding SDK, which is used for embedding a dossier."),(0,o.kt)("li",{parentName:"ol"},"The SDK will exchange the identity token for an authorization token and use the authorization token to communicate with the Library Server in the subsequent requests.")),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"A live example can be seen on ",(0,o.kt)("a",{parentName:"p",href:"https://microstrategy.github.io/embedding-sdk-samples/feature_showcase/3_Use_IdentityToken.html"},"GitHub"),", which shows how to pass the identity token to Embedding SDK. Also check out ",(0,o.kt)("a",{parentName:"p",href:"https://microstrategy.github.io/embedding-sdk-samples/"},"other examples"),".")),(0,o.kt)("h2",{id:"getting-identity-token-from-microstrategy-web"},"Getting identity token from MicroStrategy Web"),(0,o.kt)("p",null,"If your user has already logged into MicroStrategy Web, you can get identity token from MicroStrategy Web and use the identity token in Embedding SDK."),(0,o.kt)("p",null,"The authentication workflow is the following:"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Web Seamless Login",src:n(8406).Z,width:"1350",height:"740"})),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"User has already logged into MicroStrategy Web. The client application calls ",(0,o.kt)("inlineCode",{parentName:"li"},"createIdentityToken")," task. ",(0,o.kt)("inlineCode",{parentName:"li"},"POST /servlet/taskProc")," with ",(0,o.kt)("inlineCode",{parentName:"li"},"taskId=createIdentityToken&taskContentType=json&taskEnv=xhr")," in payload. See ",(0,o.kt)("a",{parentName:"li",href:"https://www2.microstrategy.com/producthelp/Current/WEBSDK/Content/topics/taskinfr/TI_QuickStartGuide_UseTasks.htm"},"Web SDK")," for how to use tasks."),(0,o.kt)("li",{parentName:"ol"},"The MicroStrategy Web returns an identity token to the caller in the response body. The identity token has a very short duration."),(0,o.kt)("li",{parentName:"ol"},"The client application provides the identity token to the Embedding SDK, which is used for embedding a dossier."),(0,o.kt)("li",{parentName:"ol"},"The SDK will exchange the identity token for an authorization token and use the authorization token to communicate with the Library Server in the subsequent requests.")),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"You need to enable seamless login between MicroStrategy Web and Library to use this workflow. See ",(0,o.kt)("a",{parentName:"p",href:"https://www2.microstrategy.com/producthelp/current/InstallConfig/en-us/Content/enable_seamless_login_web_library.htm"},"this document")," for details.")))}h.isMDXComponent=!0},133:function(e,t,n){t.Z=n.p+"assets/images/seamless_login-dcf079276c58a2d20433d5d291890fd5.png"},8406:function(e,t,n){t.Z=n.p+"assets/images/web_seamless_login-b2ccbe1d05b586f844625d2b234e5025.jpg"}}]);