"use strict";(self.webpackChunkembedding_sdk_docs=self.webpackChunkembedding_sdk_docs||[]).push([[7213],{4677:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>t,metadata:()=>d,toc:()=>l});var n=s(5893),a=s(1151);const t={title:"Embed a single visualization",description:"You can use the Embedding SDK to embed a dashboard with a single visualization maximized. This gives the appearance of embedding a single visualization onto a page."},r=void 0,d={id:"add-functionality/embed-vis",title:"Embed a single visualization",description:"You can use the Embedding SDK to embed a dashboard with a single visualization maximized. This gives the appearance of embedding a single visualization onto a page.",source:"@site/docs/add-functionality/embed-vis.md",sourceDirName:"add-functionality",slug:"/add-functionality/embed-vis",permalink:"/embedding-sdk-docs/add-functionality/embed-vis",draft:!1,unlisted:!1,editUrl:"https://github.com/MicroStrategy/embedding-sdk-docs/tree/public/docs/add-functionality/embed-vis.md",tags:[],version:"current",lastUpdatedBy:"Aran0011",lastUpdatedAt:1710401361,formattedLastUpdatedAt:"Mar 14, 2024",frontMatter:{title:"Embed a single visualization",description:"You can use the Embedding SDK to embed a dashboard with a single visualization maximized. This gives the appearance of embedding a single visualization onto a page."},sidebar:"tutorialSidebar",previous:{title:"Interact with panel stacks",permalink:"/embedding-sdk-docs/add-functionality/panel-stacks"},next:{title:"Enable the selection of attribute elements",permalink:"/embedding-sdk-docs/add-functionality/attribute-element-selection"}},o={},l=[{value:"Embedding workflow",id:"embedding-workflow",level:2},{value:"1. Change the visualization size",id:"1-change-the-visualization-size",level:3},{value:"Function",id:"function",level:4},{value:"Input parameters",id:"input-parameters",level:4},{value:"Response",id:"response",level:4},{value:"2. Embed the dashboard with a single visualization maximized",id:"2-embed-the-dashboard-with-a-single-visualization-maximized",level:3},{value:"Function",id:"function-1",level:4},{value:"Input parameters",id:"input-parameters-1",level:4},{value:"Response",id:"response-1",level:4},{value:"3. The resize visualization callback",id:"3-the-resize-visualization-callback",level:3},{value:"Event name",id:"event-name",level:4},{value:"Callback format",id:"callback-format",level:4},{value:"API errors",id:"api-errors",level:2}];function c(e){const i={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.p,{children:"You can use the Embedding SDK to embed a dashboard with a single visualization maximized. This gives the appearance of embedding a single visualization onto a page."}),"\n",(0,n.jsx)(i.p,{children:"This functionality allows you to:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Target between a maximized view of a single visualization or a normal view of the entire dashboard."}),"\n",(0,n.jsx)(i.li,{children:"Add event handling so the parent portal is aware of the maximizing action performed by the user."}),"\n",(0,n.jsx)(i.li,{children:"Select a single visualization to appear by default when the dashboard opens."}),"\n",(0,n.jsx)(i.li,{children:"Hide the maximize button so viewers cannot view the entire dashboard."}),"\n",(0,n.jsx)(i.li,{children:"Choose any visualization on the dashboard to appear by default, even if it's not on the current page."}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:"Check out the video below to see how it's done!"}),"\n",(0,n.jsx)("iframe",{width:"556",height:"311",src:"https://www.youtube.com/embed/S7uYiWo0Zug",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}),"\n",(0,n.jsx)(i.admonition,{type:"tip",children:(0,n.jsxs)(i.p,{children:["To help you get started, we have provided an ",(0,n.jsx)(i.a,{href:"https://microstrategy.github.io/playground/?example=g15",children:"example in the Embedding SDK Playground"})," that will embed a dashboard with a single visualization maximized with options to switch between ",(0,n.jsx)(i.code,{children:"Max Size"})," and ",(0,n.jsx)(i.code,{children:"Normal Size"}),"."]})}),"\n",(0,n.jsx)(i.h2,{id:"embedding-workflow",children:"Embedding workflow"}),"\n",(0,n.jsx)(i.p,{children:"When initializing a dashboard page, you must specify which visualization will be maximized and the visibility of its resize button. When the visualization is resized, whether it's by a manual click or the Embedding SDK, the dashboard page raises an event to invoke a callback in your application."}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.img,{alt:"maximize_viz_workflow",src:s(503).Z+"",width:"1022",height:"699"})}),"\n",(0,n.jsx)(i.h3,{id:"1-change-the-visualization-size",children:"1. Change the visualization size"}),"\n",(0,n.jsx)(i.h4,{id:"function",children:"Function"}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.code,{children:"Dossier.changeVisualizationSize(props)"})}),"\n",(0,n.jsxs)(i.p,{children:["The\xa0",(0,n.jsx)(i.code,{children:"Dossier"}),"\xa0object is created using\xa0",(0,n.jsx)(i.code,{children:"microstrategy.dossier.create(props)"}),". See\xa0",(0,n.jsx)(i.a,{href:"/embedding-sdk-docs/add-functionality/methods-and-properties",children:"Methods and properties for an embedded dashboard"})," for more information."]}),"\n",(0,n.jsx)(i.h4,{id:"input-parameters",children:"Input parameters"}),"\n",(0,n.jsxs)(i.p,{children:["| Parameter Name              | Description                                                                                                                | Data Type | Required? |\n| --------------------------- | -------------------------------------------------------------------------------------------------------------------------- | --------- | --------- | --- |\n| ",(0,n.jsx)(i.code,{children:"props.visualizationKey"}),"    | The visualization node key entered by you or from the result of ",(0,n.jsx)(i.code,{children:"getCurrentPageVisualizationList"}),".                         | String    | Yes       |     |\n| ",(0,n.jsx)(i.code,{children:"props.size"}),"                | The visualization sizing of ",(0,n.jsx)(i.code,{children:"normal"})," or ",(0,n.jsx)(i.code,{children:"maximized"}),". If a string is not provided, the visualization size remains the same. | String    | No        |     |\n| ",(0,n.jsx)(i.code,{children:"props.resizeButtonVisible"})," | Determines whether the resize button is visible. If a Boolean is not provided, the visibility remains the same.            | Boolean   | No        |"]}),"\n",(0,n.jsx)(i.h4,{id:"response",children:"Response"}),"\n",(0,n.jsx)(i.p,{children:"This API\xa0returns a promise object, similar to:"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-js",children:'myDossier &&\n  myDossier\n    .changeVisualizationSize({\n      visualizationKey: "K52",\n      size: "maximized",\n      resizeButtonVisible: true,\n    })\n    .then(() => {\n      // ...\n    })\n    .catch((error) => {\n      // ...\n    });\n'})}),"\n",(0,n.jsx)(i.p,{children:"Since the target state is specified in the API parameters, the callback parameters for the resolve case are not necessary."}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"Parameter Name"}),(0,n.jsx)(i.th,{children:"Data Type"}),(0,n.jsx)(i.th,{children:"Example"}),(0,n.jsx)(i.th,{children:"Comments"})]})}),(0,n.jsx)(i.tbody,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"error"})}),(0,n.jsx)(i.td,{children:"Error Object"}),(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:'new Error("invalid operation!")'})}),(0,n.jsxs)(i.td,{children:["See\xa0",(0,n.jsx)(i.a,{href:"#api-errors",children:"API errors"}),"\xa0for more information."]})]})})]}),"\n",(0,n.jsx)(i.h3,{id:"2-embed-the-dashboard-with-a-single-visualization-maximized",children:"2. Embed the dashboard with a single visualization maximized"}),"\n",(0,n.jsx)(i.h4,{id:"function-1",children:"Function"}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.code,{children:"microstrategy.dossier.create(props)"})}),"\n",(0,n.jsx)(i.h4,{id:"input-parameters-1",children:"Input parameters"}),"\n",(0,n.jsxs)(i.p,{children:["The\xa0",(0,n.jsx)(i.code,{children:"props"}),"\xa0parameter contains several fields. See\xa0",(0,n.jsx)(i.a,{href:"/embedding-sdk-docs/add-functionality/methods-and-properties",children:"Methods and properties for an embedded dashboard"})," for more information about these fields. In the\xa0",(0,n.jsx)(i.code,{children:"props"}),"\xa0object, you must add a new optional field called\xa0",(0,n.jsx)(i.code,{children:"visualizationAppearances"}),". The\xa0",(0,n.jsx)(i.code,{children:"props"}),"\xa0object contains the fields shown below."]}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"Parameter Name"}),(0,n.jsx)(i.th,{children:"Description"}),(0,n.jsx)(i.th,{children:"Data Type"}),(0,n.jsx)(i.th,{children:"Required?"}),(0,n.jsx)(i.th,{children:"Default Value"})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"props.visualizationAppearances[i].visualizationKey"})}),(0,n.jsx)(i.td,{children:"The visualization node key input by you."}),(0,n.jsx)(i.td,{children:"String"}),(0,n.jsx)(i.td,{children:"Yes"}),(0,n.jsx)(i.td,{children:"N/A"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"props.visualizationAppearances[i].size"})}),(0,n.jsxs)(i.td,{children:["Set to ",(0,n.jsx)(i.code,{children:"normal"})," or ",(0,n.jsx)(i.code,{children:"maximized"}),"."]}),(0,n.jsx)(i.td,{children:"String"}),(0,n.jsx)(i.td,{children:"No"}),(0,n.jsx)(i.td,{children:"N/A"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"props.visualizationAppearances[i].resizeButtonVisible"})}),(0,n.jsx)(i.td,{children:"Determines whether the resize button is visible. If a Boolean is not provided, the visibility remains the same."}),(0,n.jsx)(i.td,{children:"Boolean"}),(0,n.jsx)(i.td,{children:"No"}),(0,n.jsx)(i.td,{children:"N/A"})]})]})]}),"\n",(0,n.jsx)(i.p,{children:"Example:"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-js",children:'microstrategy.dossier.create({\n  // ...\n  visualizationAppearances: [\n    {\n      visualizationKey: "K52",\n      size: "maximized",\n      resizeButtonVisible: false,\n    },\n  ],\n});\n'})}),"\n",(0,n.jsxs)(i.p,{children:["If you don't enter values for\xa0",(0,n.jsx)(i.code,{children:"visualizationAppearances"}),", the dashboard runs using the default behavior."]}),"\n",(0,n.jsxs)(i.p,{children:["Multiple visualizations are not supported. This is because\xa0",(0,n.jsx)(i.code,{children:"size"}),"\xa0is coupled on different visualizations, in which only one visualization can be maximized."]}),"\n",(0,n.jsx)(i.h4,{id:"response-1",children:"Response"}),"\n",(0,n.jsxs)(i.p,{children:["This API returns a\xa0",(0,n.jsx)(i.code,{children:"dossier"}),"\xa0promise object in the resolved case, which can be used to call other dossier-owned Embedding SDK APIs."]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-js",children:'const placeholderDiv = document.getElementById("dossierContainer");\nlet myDossier;\nmicrostrategy.dossier\n  .create({\n    // ...\n  })\n  .then((dossier) => {\n    myDossier = dossier;\n    myDossier.goToNextPage();\n    // ...\n  });\n'})}),"\n",(0,n.jsx)(i.h3,{id:"3-the-resize-visualization-callback",children:"3. The resize visualization callback"}),"\n",(0,n.jsx)(i.p,{children:"When a user manually clicks the resize button for a visualization, an event is raised that notifies your application."}),"\n",(0,n.jsx)(i.h4,{id:"event-name",children:"Event name"}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.code,{children:"Dossier.onVisualizationResized"})}),"\n",(0,n.jsxs)(i.p,{children:["The\xa0",(0,n.jsx)(i.code,{children:"Dossier"}),"\xa0object is created using\xa0",(0,n.jsx)(i.code,{children:"microstrategy.dossier.create(props)"}),". See\xa0",(0,n.jsx)(i.a,{href:"/embedding-sdk-docs/add-functionality/methods-and-properties",children:"Methods and properties for an embedded dashboard"})," for more information."]}),"\n",(0,n.jsx)(i.h4,{id:"callback-format",children:"Callback format"}),"\n",(0,n.jsxs)(i.p,{children:["In the example below,\xa0",(0,n.jsx)(i.code,{children:"registerEventHandler"}),"\xa0is an existing API:"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-js",children:'myDossier &&\n  myDossier.registerEventHandler("onVisualizationResized", (resizedVisualization) => {\n    // ... The handling logic after resizing the visualization\n  });\n'})}),"\n",(0,n.jsxs)(i.p,{children:["in which the\xa0",(0,n.jsx)(i.code,{children:"resizedVisualization"}),"\xa0callback parameter uses the following format:"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-json",children:'{\n  "visualizationKey": "K52",\n  "size": "maximized" // "normal" or "maximized"\n}\n'})}),"\n",(0,n.jsx)(i.h2,{id:"api-errors",children:"API errors"}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsx)(i.p,{children:"Since you cannot set the callback parameters, it's impossible for these parameters to produce errors. When an error occurs for other reasons, the Embedding SDK returns a promise object that in turn returns an error object in rejected cases. The possible errors are shown below."}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"Related APIs"}),(0,n.jsx)(i.th,{children:"Error Case"}),(0,n.jsx)(i.th,{children:"Error Handler Callback Parameter"}),(0,n.jsx)(i.th,{children:"Error Message"})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:(0,n.jsx)(i.code,{children:"Dossier.changeVisualizationSize(props)"})}),(0,n.jsxs)(i.td,{children:["The ",(0,n.jsx)(i.code,{children:"visKey"})," is not a valid visualization key or it is not in the current page or panel stack."]}),(0,n.jsx)(i.td,{children:"Error Object"}),(0,n.jsxs)(i.td,{children:["There isn\u2019t a visualization whose key is \u201c$",0,"\u201c. Please check whether your input visKey is correct."]})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{}),(0,n.jsx)(i.td,{children:"The dashboard page is still loading."}),(0,n.jsx)(i.td,{}),(0,n.jsx)(i.td,{children:"You couldn\u2019t manipulate a visualization when the page data is not ready. Please wait a few seconds to call this function again."})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{}),(0,n.jsx)(i.td,{children:"The dashboard's manipulation is not finished, so maximize or restore could not be performed. This may occur when the last maximize or restore is in progress."}),(0,n.jsx)(i.td,{}),(0,n.jsx)(i.td,{children:"You couldn\u2019t resize a visualization when the dashboard is busy for loading data."})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{}),(0,n.jsx)(i.td,{children:"Another visualization is already maximized."}),(0,n.jsx)(i.td,{}),(0,n.jsxs)(i.td,{children:["Another visualization ",(0,n.jsx)(i.code,{children:'"${maximizedSiblingKey}"'})," is already maximized. Please call ",(0,n.jsx)(i.code,{children:'dossier.changeVisualizationSize({visualizationKey: "${maximizedSiblingKey}", size: "normal"})'})," to restore it first."]})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{}),(0,n.jsxs)(i.td,{children:[(0,n.jsx)(i.code,{children:"visualizationKey"})," is missing."]}),(0,n.jsx)(i.td,{}),(0,n.jsx)(i.td,{children:"Invalid input for Dossier.changeVisualizationSize(props): data should have required property 'visualizationKey'"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{}),(0,n.jsxs)(i.td,{children:[(0,n.jsx)(i.code,{children:"size"})," is not a valid value."]}),(0,n.jsx)(i.td,{}),(0,n.jsx)(i.td,{children:'Invalid input for Dossier.changeVisualizationSize(props): data.size should match pattern "(^(maximized|normal)$)"'})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{}),(0,n.jsxs)(i.td,{children:[(0,n.jsx)(i.code,{children:"resizeButtonVisible"})," is not a valid value,"]}),(0,n.jsx)(i.td,{}),(0,n.jsx)(i.td,{children:"Invalid input for Dossier.changeVisualizationSize(props): data.resizeButtonVisible should be boolean"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsxs)(i.td,{children:[(0,n.jsx)(i.code,{children:"microstrategy.dossier.create(props)"})," ",(0,n.jsx)(i.code,{children:"Dossier.changeVisualizationSize(props)"})]}),(0,n.jsxs)(i.td,{children:[(0,n.jsx)(i.code,{children:"visualizationKey"})," is missing"]}),(0,n.jsx)(i.td,{}),(0,n.jsx)(i.td,{children:"Error when valid parameter for microstrategy.dossier.create: data.visualizationAppearances[0] should have required property 'visualizationKey'"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{}),(0,n.jsxs)(i.td,{children:[(0,n.jsx)(i.code,{children:"size"})," is not a valid value."]}),(0,n.jsx)(i.td,{}),(0,n.jsx)(i.td,{children:'Error when valid parameter for microstrategy.dossier.create: data.visualizationAppearances[0].size should match pattern "(^(maximized|normal)$)"'})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{}),(0,n.jsxs)(i.td,{children:[(0,n.jsx)(i.code,{children:"resizeButtonVisible"})," isn\u2019t a valid value."]}),(0,n.jsx)(i.td,{}),(0,n.jsx)(i.td,{children:"Error when valid parameter for microstrategy.dossier.create: data.visualizationAppearances[0].resizeButtonVisible should be boolean"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{}),(0,n.jsxs)(i.td,{children:["The value of ",(0,n.jsx)(i.code,{children:"visualizationKey"})," is not a valid visualization key or it is not in the current page or panel stack ."]}),(0,n.jsx)(i.td,{}),(0,n.jsxs)(i.td,{children:["There isn\u2019t a visualization whose key is ",(0,n.jsx)(i.code,{children:'"${vizAppearance.visualizationKey}"'})," in the current page. Please check whether your input 'visualizationKey' is correct."]})]})]})]})]})}function h(e={}){const{wrapper:i}={...(0,a.a)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},503:(e,i,s)=>{s.d(i,{Z:()=>n});const n=s.p+"assets/images/maximize_viz_workflow-6086bcdf39f681005e9906cd75f1dfb4.png"},1151:(e,i,s)=>{s.d(i,{Z:()=>d,a:()=>r});var n=s(7294);const a={},t=n.createContext(a);function r(e){const i=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function d(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),n.createElement(t.Provider,{value:i},e.children)}}}]);